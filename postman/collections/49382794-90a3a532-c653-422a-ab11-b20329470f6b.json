{
	"info": {
		"_postman_id": "49382794-90a3a532-c653-422a-ab11-b20329470f6b",
		"name": "Answer & Questions test",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "users",
			"item": [
				{
					"name": "Login Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Parse the response\r",
									"let response = pm.response.json();\r",
									"\r",
									"// Save the token to an environment variable\r",
									"if (response.token) {\r",
									"    pm.environment.set(\"tokenAdmin\", response.token);\r",
									"    console.log(\"توکن ذخیره شد:\", response.token);\r",
									"} else {\r",
									"    console.warn(\"توکن یافت نشد!\");\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "777da5cd-2695-4201-9c2c-bc126bd8e5f7"
							}
						}
					],
					"id": "49382794-2900efa0-1e3a-433a-ab46-19b5e3615420",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Token d0282c54ab0359137567cbef53bb391c84d03c2b",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "ys6oP977NGv7X94sZho0EbumQtBxR5HV9wJOJUM4hWGMaiVDAzx7c6znPrpkY6fh"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"09393050859\",\r\n  \"password\": \"POL97asmniA5I+CauE7NUw==\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/token/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"token",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'POST' \\\r\n  'https://andarzapi.darkube.app/api/auth/token/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'Authorization: Token d0282c54ab0359137567cbef53bb391c84d03c2b' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: ys6oP977NGv7X94sZho0EbumQtBxR5HV9wJOJUM4hWGMaiVDAzx7c6znPrpkY6fh' \\\r\n  -d '{\r\n  \"username\": \"09393050859\",\r\n  \"password\": \"POL97asmniA5I+CauE7NUw==\"\r\n}'"
					},
					"response": []
				},
				{
					"name": "Send otp number",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c2dc631d-414a-4285-8c1a-bfc26bf9d2a0",
								"exec": [
									"// تعداد رقم‌های بعد از 09\r",
									"const digits = 9;\r",
									"\r",
									"// تابع برای تولید رقم رندوم\r",
									"function getRandomDigit() {\r",
									"    return Math.floor(Math.random() * 10); // عدد 0 تا 9\r",
									"}\r",
									"\r",
									"// تولید شماره رندوم\r",
									"let phoneNumber = '09';\r",
									"for (let i = 0; i < digits; i++) {\r",
									"    phoneNumber += getRandomDigit();\r",
									"}\r",
									"\r",
									"// ذخیره در متغیر محیطی یا سراسری Postman\r",
									"pm.environment.set(\"iranPhoneNumber\", phoneNumber);\r",
									"\r",
									"console.log(\"Generated Iran Phone Number:\", phoneNumber);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5eb280ae-e18f-4bd8-af70-64b50e19a088",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-52b05fa9-a046-442c-8ea2-d48a4bf19f74",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"phone_number\": \"{{SazgarPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/request/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"request",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/request/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				},
				{
					"name": "otp verify user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();\r",
									"\r",
									"// ذخیره تو متغیر محیطی یا سراسری\r",
									"\r",
									"pm.environment.set(\"tokenUser\", response.token);\r",
									"\r",
									"// ذخیره user_id\r",
									"if (response.user && response.user.user_id) {\r",
									"    pm.environment.set(\"userId\", response.user.user_id);\r",
									"}\r",
									"\r",
									"console.log(\"token:\", response.token);\r",
									"console.log(\"User ID:\", response.user.user_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "9aed2b35-e565-481f-b890-cb218ff58b45"
							}
						}
					],
					"id": "49382794-9749aaa1-bde2-4c5e-925c-0b23162ea21c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"otp_code\": \"1234\",\r\n    \"phone_number\": \"{{SazgarPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/verify/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"verify",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/verify/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"otp_code\":\"1234\",\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				}
			],
			"id": "49382794-9acf097d-07f0-4b00-9fac-71349774d948",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						],
						"id": "c1e0ce3f-de07-4ba8-b388-b0be34f76cae"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});"
						],
						"id": "ce1c6ec0-def0-4b10-bff3-ba0ac4c0413a"
					}
				}
			]
		},
		{
			"name": "users Copy",
			"item": [
				{
					"name": "Send otp number",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c2dc631d-414a-4285-8c1a-bfc26bf9d2a0",
								"exec": [
									"// تعداد رقم‌های بعد از 09\r",
									"const digits = 9;\r",
									"\r",
									"// تابع برای تولید رقم رندوم\r",
									"function getRandomDigit() {\r",
									"    return Math.floor(Math.random() * 10); // عدد 0 تا 9\r",
									"}\r",
									"\r",
									"// تولید شماره رندوم\r",
									"let phoneNumber = '09';\r",
									"for (let i = 0; i < digits; i++) {\r",
									"    phoneNumber += getRandomDigit();\r",
									"}\r",
									"\r",
									"// ذخیره در متغیر محیطی یا سراسری Postman\r",
									"pm.environment.set(\"iranPhoneNumber\", phoneNumber);\r",
									"\r",
									"console.log(\"Generated Iran Phone Number:\", phoneNumber);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5eb280ae-e18f-4bd8-af70-64b50e19a088",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-41bdc2d4-e11d-421a-96a6-823c5274a04d",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"phone_number\": \"{{SazgarPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/request/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"request",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/request/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				},
				{
					"name": "otp verify user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();\r",
									"\r",
									"// ذخیره تو متغیر محیطی یا سراسری\r",
									"\r",
									"pm.environment.set(\"tokenUser\", response.token);\r",
									"\r",
									"// ذخیره user_id\r",
									"if (response.user && response.user.user_id) {\r",
									"    pm.environment.set(\"userId\", response.user.user_id);\r",
									"}\r",
									"\r",
									"console.log(\"token:\", response.token);\r",
									"console.log(\"User ID:\", response.user.user_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "9aed2b35-e565-481f-b890-cb218ff58b45"
							}
						}
					],
					"id": "49382794-dc8cec39-ce01-49a8-b58d-326af671c33f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"otp_code\": \"1234\",\r\n    \"phone_number\": \"{{SazgarPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/verify/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"verify",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/verify/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"otp_code\":\"1234\",\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				}
			],
			"id": "49382794-eea2dd11-5416-4f67-8c0d-c0587192860e",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						],
						"id": "c1e0ce3f-de07-4ba8-b388-b0be34f76cae"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});"
						],
						"id": "ce1c6ec0-def0-4b10-bff3-ba0ac4c0413a"
					}
				}
			]
		},
		{
			"name": "Register And logout user Referral",
			"item": [
				{
					"name": "Send otp number",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// تعداد رقم‌های بعد از 09\r",
									"const digits = 9;\r",
									"\r",
									"// تابع برای تولید رقم رندوم\r",
									"function getRandomDigit() {\r",
									"    return Math.floor(Math.random() * 10); // عدد 0 تا 9\r",
									"}\r",
									"\r",
									"// تولید شماره رندوم\r",
									"let phoneNumber = '09';\r",
									"for (let i = 0; i < digits; i++) {\r",
									"    phoneNumber += getRandomDigit();\r",
									"}\r",
									"\r",
									"// ذخیره در متغیر محیطی یا سراسری Postman\r",
									"pm.environment.set(\"iranPhoneNumber\", phoneNumber);\r",
									"\r",
									"console.log(\"Generated Iran Phone Number:\", phoneNumber);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "dc79cd65-8378-4e5f-86fc-e9700c2385ec"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "b884bdda-7181-4247-b0d9-386eeb6f7a09"
							}
						}
					],
					"id": "49382794-61a63541-d5d7-4e62-b2b6-5bc7aa268cf2",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"phone_number\": \"{{iranPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/request/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"request",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/request/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				},
				{
					"name": "otp verify user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();\r",
									"\r",
									"// ذخیره تو متغیر محیطی یا سراسری\r",
									"\r",
									"pm.environment.set(\"access_token\", response.token);\r",
									"\r",
									"// ذخیره user_id\r",
									"if (response.user && response.user.user_id) {\r",
									"    pm.environment.set(\"userId\", response.user.user_id);\r",
									"}\r",
									"\r",
									"console.log(\"token:\", response.token);\r",
									"console.log(\"User ID:\", response.user.user_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "e5a1f3dd-ab87-445c-af76-6da06d3cf6ce"
							}
						}
					],
					"id": "49382794-7e2f2a51-8977-42ea-bdc9-25fc08f1c4ad",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"otp_code\": \"1234\",\r\n    \"phone_number\": \"{{iranPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/verify/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"verify",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/verify/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"otp_code\":\"1234\",\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				},
				{
					"name": "Get grades",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cfd99708-e188-491a-ae5e-786a87a5c25d",
								"exec": [
									"// داده‌های JSON از پاسخ API\r",
									"const data = pm.response.json();\r",
									"\r",
									"// بررسی صحت داده‌ها\r",
									"if (data && Array.isArray(data)) {\r",
									"    // فیلتر فقط پایه‌های 1 تا 9 (ابتدایی و متوسطه اول)\r",
									"    const filteredData = data.filter(item => \r",
									"        item.slug === \"primary\" || item.slug === \"midlevel\"\r",
									"    );\r",
									"\r",
									"    // تابع برای انتخاب تصادفی از آرایه\r",
									"    const getRandomItem = (array) => array[Math.floor(Math.random() * array.length)];\r",
									"\r",
									"    // انتخاب تصادفی یک grade از بین ابتدایی و متوسطه اول\r",
									"    const randomGrade = getRandomItem(filteredData);\r",
									"    const gradeId = randomGrade.id;\r",
									"\r",
									"    // انتخاب تصادفی یک level از grade انتخاب‌شده\r",
									"    const randomLevel = getRandomItem(randomGrade.levels);\r",
									"    const levelId = randomLevel.id;\r",
									"\r",
									"    // بررسی وجود field_of_studies و انتخاب تصادفی یا null\r",
									"    const fieldOfStudy = randomLevel.field_of_studies && randomLevel.field_of_studies.length > 0\r",
									"        ? getRandomItem(randomLevel.field_of_studies).id\r",
									"        : null;\r",
									"\r",
									"    // ذخیره در متغیرهای Postman\r",
									"    pm.collectionVariables.set(\"gradeId\", gradeId);\r",
									"    pm.collectionVariables.set(\"levelId\", levelId);\r",
									"    pm.collectionVariables.set(\"fieldOfStudyId\", fieldOfStudy);\r",
									"\r",
									"    // چاپ برای بررسی (اختیاری)\r",
									"    console.log(\"Grade ID:\", gradeId);\r",
									"    console.log(\"Level ID:\", levelId);\r",
									"    console.log(\"Field of Study ID:\", fieldOfStudy);\r",
									"    console.log(\"انتخاب از:\", randomGrade.name, \"-\", randomLevel.name);\r",
									"} else {\r",
									"    console.log(\"داده‌های ورودی نامعتبر است\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-97ab7bba-d6d0-4e75-bea1-3e1b8af1db3b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/grades/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"grades",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/grades/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4MzcxNzU2LCJpYXQiOjE3NTgzNjgxNTYsImp0aSI6ImY3NjI2ZTIwZWQwNTQ3ODJiZjc2ZmE5OGM0ODIyNjM5IiwidXNlcl9pZCI6ImM5YWI3ZTVmLWY2M2MtNDI1MS1iMmUyLTM1NzYwNzU2YmIzMSJ9.7p5dA3M7-MMRfmieWV-mR9_5NRvw_DBOqkWboeOLEa0' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Get locations",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();\r",
									"\r",
									"// انتخاب تصادفی یک استان\r",
									"let randomProvinceIndex = Math.floor(Math.random() * response.length);\r",
									"let selectedProvince = response[randomProvinceIndex];\r",
									"\r",
									"// ذخیره province_id\r",
									"pm.environment.set(\"province_id\", selectedProvince.id);\r",
									"\r",
									"// انتخاب تصادفی یک شهر از استان انتخاب شده\r",
									"let cities = selectedProvince.cities;\r",
									"let randomCityIndex = Math.floor(Math.random() * cities.length);\r",
									"let selectedCity = cities[randomCityIndex];\r",
									"\r",
									"// ذخیره city_id\r",
									"pm.environment.set(\"city_id\", selectedCity.id);\r",
									"\r",
									"console.log(\"province_id:\", selectedProvince.id);\r",
									"console.log(\"city_id:\", selectedCity.id);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "fcbbf16c-5e10-4a10-94f7-48ab8cf783bb"
							}
						}
					],
					"id": "49382794-5cb23b23-8a72-49bb-86cb-7c7edeea064f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/locations/all/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"locations",
								"all",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/locations/all/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4Mzc2ODgyLCJpYXQiOjE3NTgzNzMyODIsImp0aSI6ImIwMmUxMjU1NDM3ZjQzNzI5NWFkMWY4YjE5YmFiZGYxIiwidXNlcl9pZCI6IjliMTU3ZjhkLTM1YzItNDMwOS1hM2Y2LTAzNDkyMjVjMTcyMyJ9.ht-hNohsFgd2UXO5dVsL5jFbStjs0vh1mFXE32Rnb98' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "referral check",
					"id": "49382794-94fdb9dc-540c-4507-9da2-5ef8b5f15ede",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "ifkNfKOtcE4eddrHR6GD5NCfDVOd5ZfgPaFvg9MaThvA2LT21EKJElz2544V1jl0"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"referral_code\": \"t3\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/referral/check/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"referral",
								"check",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'POST' \\\r\n  'https://andarzapi-stage.darkube.app/api/referral/check/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: ifkNfKOtcE4eddrHR6GD5NCfDVOd5ZfgPaFvg9MaThvA2LT21EKJElz2544V1jl0' \\\r\n  -d '{\r\n  \"referral_code\": \"string\"\r\n}'"
					},
					"response": []
				},
				{
					"name": "Put user",
					"id": "49382794-a836c354-6191-4d55-840e-c7820dfb3789",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "X-CSRFToken",
								"value": "e8b412a9aa350d1c6ccd402887cc443668f2a027"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"user_id\": \"{{userId}}\",\r\n    \"grade_id\": \"{{gradeId}}\",\r\n    \"level_id\": \"{{levelId}}\",\r\n    \"city_id\": {{city_id}},\r\n    \"province_id\": {{province_id}},\r\n    \"first_name\": \"{{randomFirstName}}\",\r\n    \"last_name\": \"{{randomLastName}}\",\r\n    \"fieldOfStudy\" :\"{{fieldOfStudy}}\",\r\n    \"referral_code\":\"t3\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/users/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'PUT' \\\r\n  'https://andarzapi.darkube.app/api/users/05405f29-9a44-4b5b-b1c0-48c05cec5f9a/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'X-CSRFToken: e8b412a9aa350d1c6ccd402887cc443668f2a027' \\\r\n  -H 'Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU5MDAyLCJpYXQiOjE3NTc3NTU0MDIsImp0aSI6IjRhNWZhNWY5OWE2MjQ5ZjE4NGM0NWU5MzAwZjkyOTU3IiwidXNlcl9pZCI6IjUxMDg3MDc5LTAyN2QtNGI2Ni05NzIwLTNjZWJmZTUyNTg1ZSJ9._uo6pwgIiSbpPe_iGHgSu9tBBfmKO1rQFm4I3lTB8SU' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv' \\\r\n  -d '{\r\n  \"phone_number\": \"string\",\r\n  \"first_name\": \"string\",\r\n  \"last_name\": \"string\",\r\n  \"grade_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"level_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"field_of_study_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"province\": \"string\",\r\n  \"city\": \"string\",\r\n  \"province_id\": 0,\r\n  \"city_id\": 0\r\n}'"
					},
					"response": []
				},
				{
					"name": "balance  Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "220ead6b-f1a0-4d9f-9107-879e52fbaf7d",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// مطمئن بشیم balance عدد هست\r",
									"const payBefore = Number(jsonData.balance);\r",
									"\r",
									"// محاسبه مقدار جدید\r",
									"//const payAfter = payBefore - 50;\r",
									"\r",
									"// ذخیره در environment\r",
									"//pm.environment.set(\"payAfter\", payAfter);\r",
									"\r",
									"// تست: بالانس باید بیشتر از 50 باشه\r",
									"pm.test(\"Balance is eql than 175\", function () {\r",
									"    pm.expect(payBefore).to.be.eql(175);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-4a84c951-a3af-40a5-aaee-e7094d0fbadc",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "logout",
					"id": "49382794-7787c77c-34e0-400b-b028-54a1d3586146",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-length",
								"value": "0"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/auth/logout/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"logout",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/logout/' \\\r\n  -X 'POST' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3MzQ0ODk4LCJpYXQiOjE3NTczNDEyOTgsImp0aSI6IjdiNWI3Y2QxMDkyMDQxZjc5NzA0OTBhZWVjZmM3NDQzIiwidXNlcl9pZCI6ImM1ZDRkMjdjLTgwMjMtNGM5Mi1hZDAyLWY3Nzk5M2M3MDkzMiJ9.7ZaFKxF1nns-XYEbxjnstqYL6O6wpWJiOT94BS71FYk' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-length: 0' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				}
			],
			"id": "49382794-06925a06-9016-4f0d-9425-c2af1ab5e027",
			"description": "Feature: User Registration Flow  \nAs a guest user  \nI want to register with my personal information  \nSo that I can have a complete profile in the system\n\nBackground:  \nGiven the user is on the login page\n\nScenario: Successful user registration with OTP  \nWhen the user enters a valid phone number  \nAnd the system sends an OTP code to the user  \nAnd the user submits the correct OTP code  \nThen the user should be redirected to the registration form\n\n```\nWhen the user fills in the registration form with:\n  | First Name       | احمد       |\n  | Last Name        | سازگار     |\n  | Province         | تهران      |\n  | City             | تهران      |\n  | Education Level  | کارشناسی   |\n  | Major            | مهندسی نرم افزار |\n\n ```\n\nAnd the user submits the registration form  \nThen the user should see a success message \"ثبت نام با موفقیت انجام شد\"  \nWhen the user logs out from the system  \nThen the user should be redirected to the homepage",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						],
						"id": "1ed90e50-508c-4ab2-852b-8dc5b7dbd61d"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});\r",
							"setTimeout(() => {\r",
							"    console.log(\"Waited 200ms before sending request\");\r",
							"}, 200);\r",
							"console.log(\"➡️ Request Body:\", pm.request.body);\r",
							""
						],
						"id": "91cf1d1c-2b41-45ba-891e-81ed7def4555"
					}
				}
			]
		},
		{
			"name": "Answer Admin & question Text",
			"item": [
				{
					"name": "balance  Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// مطمئن بشیم balance عدد هست\r",
									"const payBefore = Number(jsonData.balance);\r",
									"\r",
									"// محاسبه مقدار جدید\r",
									"const payAfter = payBefore - 50;\r",
									"\r",
									"// ذخیره در environment\r",
									"pm.environment.set(\"payAfter\", payAfter);\r",
									"\r",
									"// تست: بالانس باید بیشتر از 50 باشه\r",
									"pm.test(\"Balance is greater than 50\", function () {\r",
									"    pm.expect(payBefore).to.be.above(50);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"id": "220ead6b-f1a0-4d9f-9107-879e52fbaf7d"
							}
						}
					],
					"id": "49382794-62fae584-8056-4ecb-aa86-ce2802382aa1",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Get courses",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d1de0036-1f3b-4ef0-a711-cb7d6de58ff9",
								"exec": [
									"// Fixed SyntaxError by removing extra code\r",
									"let response = pm.response.json();\r",
									"\r",
									"// انتخاب رندوم یکی از آیتم‌ها\r",
									"let randomIndex = Math.floor(Math.random() * response.length);\r",
									"let randomSlug = response[randomIndex].slug;\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"random_slug\", randomSlug);\r",
									"\r",
									"// ذخیره در Collection (اختیاری)\r",
									"\r",
									"console.log(\"✅ slug به صورت رندوم ذخیره شد:\", randomSlug);\r",
									"\r",
									"console.log(\"⚠️ پاسخ خالی یا فرمت درست نیست\");\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-b79d9eed-1631-496c-a990-87766d13aa90",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/courses/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"courses",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/courses/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjE3ODYyLCJpYXQiOjE3NTg2MTQyNjIsImp0aSI6IjAzMzFjYzQ3ZDIxMTQ2MGNhZWMxNDIyMTY2ZTIyZGQ0IiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjJ9.CZkI7WGmrvrNSsaXx302oD0jEpIg_hLmqwlQYtsq5bs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "add question student(text)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "72c8e63e-8111-49df-8549-c6f192b5daa1",
								"exec": [
									"// گرفتن بدنه‌ی پاسخ JSON\r",
									"const response = pm.response.json();\r",
									"\r",
									"// ذخیره question_id\r",
									"if (response && response.question_id) {\r",
									"    pm.environment.set(\"question_id_text\", response.question_id);\r",
									"    console.log(\"✅ question_id ذخیره شد:\", response.question_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ question_id در پاسخ یافت نشد\");\r",
									"}\r",
									"\r",
									"// ذخیره session_id\r",
									"if (response && response.session_id) {\r",
									"    pm.environment.set(\"Session_id\", response.session_id);\r",
									"    console.log(\"✅ session_id ذخیره شد:\", response.session_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ session_id در پاسخ یافت نشد\");\r",
									"}\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "62270d20-2ea9-4d05-978b-2f955b78a910",
								"exec": [
									"// آرایه 10 سوال و جواب درسی (می‌تونی تغییرشون بدی)\r",
									"const questions = [\r",
									"    { question: \"پایتخت ایران چیست؟\", answer: \"تهران\" },\r",
									"    { question: \"بزرگ‌ترین قاره جهان کدام است؟\", answer: \"آسیا\" },\r",
									"    { question: \"فرمول آب چیست؟\", answer: \"H₂O\" },\r",
									"    { question: \"نویسنده کتاب 'شازده کوچولو' کیست؟\", answer: \"آنتوان دو سنت‌اگزوپری\" },\r",
									"    { question: \"چند سیاره در منظومه شمسی داریم؟\", answer: \"۸\" },\r",
									"    { question: \"قانون دوم نیوتن چیست؟\", answer: \"F = ma\" },\r",
									"    { question: \"واحد انرژی در فیزیک چیست؟\", answer: \"ژول\" },\r",
									"    { question: \"کدام عنصر نماد شیمیایی Au دارد؟\", answer: \"طلا\" },\r",
									"    { question: \"مجموع زوایای داخلی یک مثلث چند درجه است؟\", answer: \"۱۸۰\" },\r",
									"    { question: \"اولین رئیس‌جمهور ایران کی بود؟\", answer: \"ابوالحسن بنی‌صدر\" }\r",
									"];\r",
									"\r",
									"// انتخاب تصادفی یک سوال\r",
									"const randomIndex = Math.floor(Math.random() * questions.length);\r",
									"const selected = questions[randomIndex];\r",
									"\r",
									"// ذخیره در متغیرهای محیطی\r",
									"pm.environment.set(\"random_question\", selected.question);\r",
									"pm.environment.set(\"randomAnswer_Admin\", selected.answer);\r",
									"\r",
									"// نمایش در کنسول (برای دیباگ)\r",
									"console.log(\"سوال رندوم انتخاب شد:\");\r",
									"console.log(\"سوال:\", selected.question);\r",
									"console.log(\"جواب:\", selected.answer);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-07666676-e81b-4cd5-92f1-ca6c4d3bde0e",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "cross-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"subject\": \"{{random_slug}}\",\r\n    \"text_content\": \"{{random_question}}\",\r\n    \"tag\": [\r\n        \"string\"\r\n    ],\r\n    \"type\": \"explain\",\r\n    \"urgency_level\": 1,\r\n    \"media_ids\": []\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://stageapi.andarz.io/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYyNDE4MjAwLCJpYXQiOjE3NjE1NTQyMDAsImp0aSI6IjVkMzFjYTRmNGRlNzQxZDI4YzhhNjQ1ZDFjNzdkYzk2IiwidXNlcl9pZCI6IjAzODk4NTY5LTlhZGQtNDliNC05NWMyLWJjNDgxODhiYTk4OSIsInRva2VuX3ZlcnNpb24iOjQ5fQ.qY41g5dc-IcMklSAAjoiQcNi8ZMVZL3BDh5g9P9VEVM' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: cross-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"subject\":\"per_10_11_12_ensani\",\"text_content\":\"تست تست \",\"tag\":[\"string\"],\"type\":\"explain\",\"urgency_level\":1,\"media_ids\":[]}'"
					},
					"response": []
				},
				{
					"name": "balance  Student After",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();\r",
									"\r",
									"// مقدار balance از ریسپانس\r",
									"const balance = Number(jsonData.balance);\r",
									"\r",
									"// مقدار payAfter از environment\r",
									"const payAfter = Number(pm.environment.get(\"payAfter\"));\r",
									"\r",
									"// لاگ برای دیباگ\r",
									"console.log(\"Response balance:\", balance);\r",
									"console.log(\"Environment payAfter:\", payAfter);\r",
									"\r",
									"// تست: مقدار payAfter باید با balance یکی باشه\r",
									"pm.test(\"Balance matches payAfter\", function () {\r",
									"    pm.expect(balance).to.eql(payAfter);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "3d11fb5e-0be9-4dde-9f56-b80476a1b397"
							}
						}
					],
					"id": "49382794-a2397e9e-7844-42c4-9b07-6a7b9cb7bda0",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "find question in qusetion list Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f83368fd-b477-424c-a808-32ea114926cc",
								"exec": [
									"// گرفتن پاسخ JSON\r",
									"let questions = pm.response.json();\r",
									"\r",
									"// گرفتن مقدار متغیر question_id_Voice از محیط Postman\r",
									"let targetId = pm.environment.get(\"question_id_text\");\r",
									"\r",
									"// پیدا کردن سوالی که question_id برابر با targetId باشد\r",
									"let question = questions.find(q => q.question_id === targetId);\r",
									"\r",
									"if (question) {\r",
									"    console.log(\"سوال پیدا شد:\", question);\r",
									"    // ذخیره متن سوال در متغیر محیطی\r",
									"    pm.environment.set(\"found_question_text\", question.text_content);\r",
									"} else {\r",
									"    console.log(\"سوالی با این ID پیدا نشد!\");\r",
									"}\r",
									"\r",
									"// Assertion: بررسی اینکه سوال پیدا شده یا نه\r",
									"pm.test(\"سوال با question_id_Voice پیدا شده باشد\", function () {\r",
									"    pm.expect(question).to.not.be.undefined;\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-27205f36-cb16-48ea-ab07-a5629f744b51",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU1ODgxLCJpYXQiOjE3NTc3NTIyODEsImp0aSI6IjkyZjg0MThlZjNmZjRhN2Q5YTBiNjUwOGM5NzM0ZTRhIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.Wqfe8blch7O5Owbzu8XghkryeDF1uTGv8L-TC9jjklY' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "answers admin  (Text)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"answer_id\", jsonData.answer_id);\r",
									"\r",
									"console.log(\"answer_id saved:\", jsonData.answer_id);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "28b0af3b-aaed-45d9-a3a6-29db4ef1cdce"
							}
						}
					],
					"id": "49382794-0f339863-c083-4915-8446-117227b64890",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Token {{tokenAdmin}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"question\": \"{{question_id_text}}\",\r\n  \"text_content\": \"{{randomAnswer_Admin}}\",\r\n  \"audio_url\": \"\",\r\n  \"image_url\": \"\",\r\n  \"video_link\": \"\",\r\n  \"media_ids\": [\r\n    \"{{Session_id}}\"\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/answers/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"answers",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'POST' \\\r\n  'https://andarzapi-stage.darkube.app/api/answers/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'Authorization: db136be19ac17fa1a3bb3e5ac93fc5c262b8e801' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0' \\\r\n  -d '{\r\n  \"question\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"text_content\": \"string\",\r\n  \"audio_url\": \"string\",\r\n  \"image_url\": \"string\",\r\n  \"video_link\": \"string\",\r\n  \"media_ids\": [\r\n    \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\r\n  ]\r\n}'"
					},
					"response": []
				},
				{
					"name": "Get Answer",
					"id": "49382794-187e620b-0094-4c36-a1c0-4a9efe0206f1",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/sessions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"sessions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/sessions/9bd89449-4ff7-462b-bd4a-673417029b2a/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxMDUwOTAzLCJpYXQiOjE3NjAxODY5MDMsImp0aSI6ImQyNTExNWE0MmNlYzQ4NTk4ODVkZDY4ZDBmZDBiOWNhIiwidXNlcl9pZCI6IjVkYzBiYTMyLWNlYmQtNDAyMS1iNTg4LTc2MDM3MmM5NWZiNCIsInRva2VuX3ZlcnNpb24iOjV9.IJ6csmbdNooNQ8x0dOgmljwHGL0N77sNGyv4EqbuoQ8' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-ch-ua: \"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36'"
					},
					"response": []
				}
			],
			"id": "49382794-84a5903d-c42e-4434-88f7-f88a169bffda",
			"description": "**Feature**: Student asks a question and teacher answers  \n**As** a student user  \nI want to login and ask my academic question  \n**So** that I can receive an answer from a teacher\n\n**Background**:\n\n**Given** the student is on the login page\n\n**Scenario**: **Student logs in and submits a question**  \n**When** the student enters a valid phone number  \n**And** the system sends an OTP code to the student  \n**And** the student submits the correct OTP code  \n**Then** the student should be logged in successfully  \n**And** the student should be redirected to the Question page  \n**When** the student navigates to the \"Ask a Question\" page  \n**And** the student types the question \"مفهوم شی‌گرایی در برنامه‌نویسی چیست؟\"  \n**And** the student submits the question  \n**Then** the system should display a confirmation message \"سوال شما با موفقیت ثبت شد\"  \n**Then** the question should be visible in the admin/teacher panel  \n**Then** the question should be visible in the student panel",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						],
						"id": "d041f989-22a0-4a73-9d65-093b6d9645bb"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							"pm.test(`Status code should be 200 or 201, actual: ${pm.response.code}`, function () {\r",
							"    pm.expect([200, 201]).to.include(pm.response.code);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});\r",
							"setTimeout(() => {\r",
							"    console.log(\"Waited 200ms before sending request\");\r",
							"}, 200);\r",
							"console.log(\"➡️ Request Body:\", pm.request.body);"
						],
						"id": "6e38a876-95f1-43e5-a442-4d796e4a9bda"
					}
				}
			]
		},
		{
			"name": "Answer &  question(Text+ Image)",
			"item": [
				{
					"name": "balance  Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// تست: بالانس باید بیشتر از 50 باشه\r",
									"pm.test(\"Balance is greater than 50\", function () {\r",
									"    pm.expect(jsonData.balance).to.be.above(50);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "05a8efdb-eb28-4096-8105-804d3722819f"
							}
						}
					],
					"id": "49382794-567cccdc-3b44-4b8d-92aa-c278cebe3d39",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "upload media-image-user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1050c521-2f13-4dd8-93d6-bde721f0158b",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Image\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b6b29209-6686-42f9-877b-92730a294984",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-2e6fb3fc-5419-4278-a5b6-a83a2440a561",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "image",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18be-d871-49b0-a89d-4d30648584f9"
								},
								{
									"key": "is_avatar_image",
									"value": "true",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "Get courses",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "290d5539-6c73-4ce2-801d-e62d4c8bd94e",
								"exec": [
									"// Fixed SyntaxError by removing extra code\r",
									"let response = pm.response.json();\r",
									"\r",
									"// انتخاب رندوم یکی از آیتم‌ها\r",
									"let randomIndex = Math.floor(Math.random() * response.length);\r",
									"let randomSlug = response[randomIndex].slug;\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"random_slug\", randomSlug);\r",
									"\r",
									"// ذخیره در Collection (اختیاری)\r",
									"\r",
									"console.log(\"✅ slug به صورت رندوم ذخیره شد:\", randomSlug);\r",
									"\r",
									"console.log(\"⚠️ پاسخ خالی یا فرمت درست نیست\");\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-7f7d1387-da08-4bff-ac06-ab110bb7eb6b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/courses/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"courses",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/courses/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjE3ODYyLCJpYXQiOjE3NTg2MTQyNjIsImp0aSI6IjAzMzFjYzQ3ZDIxMTQ2MGNhZWMxNDIyMTY2ZTIyZGQ0IiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjJ9.CZkI7WGmrvrNSsaXx302oD0jEpIg_hLmqwlQYtsq5bs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Add question Student(Text+ image)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4d176a24-43fa-4161-83f0-d99d943ffe94",
								"exec": [
									"// گرفتن بدنه‌ی پاسخ JSON\r",
									"const response = pm.response.json();\r",
									"\r",
									"// ذخیره question_id\r",
									"if (response && response.question_id) {\r",
									"    pm.environment.set(\"question_id_image\", response.question_id);\r",
									"    console.log(\"✅ question_id ذخیره شد:\", response.question_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ question_id در پاسخ یافت نشد\");\r",
									"}\r",
									"\r",
									"// ذخیره session_id\r",
									"if (response && response.session_id) {\r",
									"    pm.environment.set(\"Session_id_image\", response.session_id);\r",
									"    console.log(\"✅ session_id ذخیره شد:\", response.session_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ session_id در پاسخ یافت نشد\");\r",
									"}\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "e30c46db-418d-44e8-beeb-bf70d254e1a2",
								"exec": [
									"// بانک سوالات اصلی (بدون تغییر)\r",
									"const questionsBank = {\r",
									"    \"Math\": [\r",
									"        { type: \"MCQ\", question: \"5 + 7 = ?\", options: [\"10\",\"12\",\"13\",\"11\"], answer: \"12\" },\r",
									"        { type: \"True/False\", question: \"9 * 0 = 0\", answer: true },\r",
									"        { type: \"Short\", question: \"توضیح بده مفهوم عدد اول چیست؟\" }\r",
									"    ],\r",
									"    \"Science\": [\r",
									"        { type: \"MCQ\", question: \"آب از چه چیزی تشکیل شده است؟\", options: [\"H2O\",\"CO2\",\"O2\",\"NaCl\"], answer: \"H2O\" },\r",
									"        { type: \"True/False\", question: \"زمین مرکز منظومه شمسی است.\", answer: false },\r",
									"        { type: \"Short\", question: \"عمل فتوسنتز چیست؟\" }\r",
									"    ],\r",
									"    \"History\": [\r",
									"        { type: \"MCQ\", question: \"سال کشف آمریکا توسط کریستف کلمب؟\", options: [\"1492\",\"1500\",\"1600\",\"1450\"], answer: \"1492\" },\r",
									"        { type: \"True/False\", question: \"انقلاب فرانسه در 1789 رخ داد.\", answer: true },\r",
									"        { type: \"Short\", question: \"چه کسی اولین رئیس جمهور آمریکا بود؟\" }\r",
									"    ],\r",
									"    \"Programming\": [\r",
									"        { type: \"MCQ\", question: \"زبان پایتون توسط چه کسی طراحی شد؟\", options: [\"Guido van Rossum\", \"James Gosling\", \"Bjarne Stroustrup\", \"Linus Torvalds\"], answer: \"Guido van Rossum\" },\r",
									"        { type: \"True/False\", question: \"Python یک زبان کامپایل شده است.\", answer: false },\r",
									"        { type: \"Short\", question: \"تفاوت لیست و تاپل در پایتون چیست؟\" }\r",
									"    ],\r",
									"    \"General\": [\r",
									"        { type: \"MCQ\", question: \"رنگ آسمان در روز آفتابی چیست؟\", options: [\"سبز\", \"آبی\", \"قرمز\", \"زرد\"], answer: \"آبی\" },\r",
									"        { type: \"True/False\", question: \"خورشید از ستاره‌هاست.\", answer: true },\r",
									"        { type: \"Short\", question: \"یک حیوان در حال انقراض نام ببر.\" }\r",
									"    ]\r",
									"};\r",
									"\r",
									"// انتخاب موضوع و سپس یک سوال تصادفی\r",
									"const subjects = Object.keys(questionsBank);\r",
									"const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];\r",
									"const questionList = questionsBank[randomSubject];\r",
									"const randomQuestion = questionList[Math.floor(Math.random() * questionList.length)];\r",
									"\r",
									"// فقط متن سوال را در متغیر محیطی ذخیره می‌کنیم\r",
									"pm.environment.set(\"randomQuestion\", randomQuestion.question);\r",
									"\r",
									"// نمایش در Console Postman برای بررسی\r",
									"console.log(\"Random Question:\", randomQuestion.question);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-cd7099dd-441e-4a3a-9d2a-0aec0570e174",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"subject\": \"{{random_slug}}\",\r\n    \"text_content\": \"{{random_question}}\",\r\n    \"tag\": [\r\n        \"string\"\r\n    ],\r\n    \"type\": \"explain\",\r\n    \"urgency_level\": 1,\r\n    \"media_ids\": [\"{{Media_id_Image}}\"]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU1ODgxLCJpYXQiOjE3NTc3NTIyODEsImp0aSI6IjkyZjg0MThlZjNmZjRhN2Q5YTBiNjUwOGM5NzM0ZTRhIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.Wqfe8blch7O5Owbzu8XghkryeDF1uTGv8L-TC9jjklY' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"subject\":\"other\",\"text_content\":\"مفهوم شی‌گرایی در برنامه‌نویسی چیست؟\",\"tag\":[\"string\"],\"type\":\"explain\",\"urgency_level\":1,\"media_ids\":[]}'"
					},
					"response": []
				},
				{
					"name": "find question in qusetion list Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a5e91423-c488-4ba9-b441-1fbde277e38a",
								"exec": [
									"// گرفتن پاسخ JSON\r",
									"let questions = pm.response.json();\r",
									"\r",
									"// گرفتن مقدار متغیر question_id_Voice از محیط Postman\r",
									"let targetId = pm.environment.get(\"question_id_image\");\r",
									"\r",
									"// پیدا کردن سوالی که question_id برابر با targetId باشد\r",
									"let question = questions.find(q => q.question_id === targetId);\r",
									"\r",
									"if (question) {\r",
									"    console.log(\"سوال پیدا شد:\", question);\r",
									"    // ذخیره متن سوال در متغیر محیطی\r",
									"    pm.environment.set(\"found_question_text\", question.text_content);\r",
									"} else {\r",
									"    console.log(\"سوالی با این ID پیدا نشد!\");\r",
									"}\r",
									"\r",
									"// Assertion: بررسی اینکه سوال پیدا شده یا نه\r",
									"pm.test(\"سوال با question_id_Voice پیدا شده باشد\", function () {\r",
									"    pm.expect(question).to.not.be.undefined;\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-ef348b8f-5835-4e0b-b49b-065b3ae70c91",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU1ODgxLCJpYXQiOjE3NTc3NTIyODEsImp0aSI6IjkyZjg0MThlZjNmZjRhN2Q5YTBiNjUwOGM5NzM0ZTRhIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.Wqfe8blch7O5Owbzu8XghkryeDF1uTGv8L-TC9jjklY' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "upload media-image-admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a0d05522-5e73-4483-9067-c364641f81e7",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Image\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-a25d4401-879f-4e20-8fc8-ece85e436e85",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Token {{tokenAdmin}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "image",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18be-d871-49b0-a89d-4d30648584f9"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "answers admin(Text+ image)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"answer_id\", jsonData.answer_id);\r",
									"\r",
									"console.log(\"answer_id saved:\", jsonData.answer_id);\r",
									"\r",
									"console.log(\"➡️ Request Body:\", pm.request.body);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "40fc9c10-5978-4357-b905-09acf9188576"
							}
						}
					],
					"id": "49382794-4e459d0d-98af-4123-b524-9a838e2db9dd",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Token {{tokenAdmin}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"question\": \"{{question_id_image}}\",\r\n  \"text_content\": \"{{randomAnswer_Admin}}\",\r\n  \"audio_url\": \"\",\r\n  \"image_url\": \"\",\r\n  \"video_link\": \"\",\r\n  \"media_ids\": [\r\n    \"{{Session_id_image}}\",\"{{Media_id_Image}}\"\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/answers/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"answers",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'POST' \\\r\n  'https://andarzapi-stage.darkube.app/api/answers/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'Authorization: db136be19ac17fa1a3bb3e5ac93fc5c262b8e801' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0' \\\r\n  -d '{\r\n  \"question\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"text_content\": \"string\",\r\n  \"audio_url\": \"string\",\r\n  \"image_url\": \"string\",\r\n  \"video_link\": \"string\",\r\n  \"media_ids\": [\r\n    \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\r\n  ]\r\n}'"
					},
					"response": []
				},
				{
					"name": "show question & Answer Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن مقدار Answer_Admin از متغیرهای پستمن و تبدیل \\n به خط جدید واقعی\r",
									"let answerAdmin = pm.variables.get(\"Answer_Admin\").replace(/\\\\n/g, \"\\n\");\r",
									"console.log(\"Answer_Admin (after \\\\n replaced):\", answerAdmin);\r",
									"\r",
									"// گرفتن بادی ریسپانس\r",
									"let jsonData = pm.response.json();\r",
									"\r",
									"// بررسی وجود متن در بین پاسخ‌ها\r",
									"let matchedAnswer = jsonData.answers.find(ans => {\r",
									"    console.log(\"Current answer text_content:\", ans.text_content); // لاگ هر text_content\r",
									"    return ans.text_content === answerAdmin;\r",
									"});\r",
									"\r",
									"// تست پاس/فیل\r",
									"pm.test(\"Check if text_content matches {{Answer_Admin}}\", function () {\r",
									"    pm.expect(!!matchedAnswer).to.eql(true);\r",
									"});\r",
									"\r",
									"// ذخیره نتیجه در متغیر محیطی (اختیاری)\r",
									"pm.environment.set(\"answer_exists\", matchedAnswer ? true : false);\r",
									"if (matchedAnswer) {\r",
									"    pm.environment.set(\"matched_answer_id\", matchedAnswer.answer_id);\r",
									"} else {\r",
									"    pm.environment.unset(\"matched_answer_id\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"id": "3c110426-4fd1-47f4-8c9c-c7975f8f6dbd"
							}
						}
					],
					"id": "49382794-cd21fff2-bac2-49ca-be20-cf1fce1752e2",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/questions/{{question_id_text}}/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								"{{question_id_text}}",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/53cbd7e8-ff81-4884-828f-be3ed1eac6b6/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzY0NDg3LCJpYXQiOjE3NTc3NjA4ODcsImp0aSI6IjczYmEyZjAyZWQxMzRkYWNiOTIzYzhhNzdjMDBjMmExIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.OkfNiSDo1cGRzS59a9S46m_iQ9o8VOOLiVSV47F47KI' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				}
			],
			"id": "49382794-cb2058d0-d986-4ae9-a4c0-87fed90acdcf",
			"description": "**Feature**: Student asks a question and teacher answers  \n**As** a student user  \nI want to login and ask my academic question  \n**So** that I can receive an answer from a teacher\n\n**Background**:\n\n**Given** the student is on the login page\n\n**Scenario**: **Student logs in and submits a question**  \n**When** the student enters a valid phone number  \n**And** the system sends an OTP code to the student  \n**And** the student submits the correct OTP code  \n**Then** the student should be logged in successfully  \n**And** the student should be redirected to the Question page  \n**When** the student navigates to the \"Ask a Question\" page  \n**And** the student types the question \"مفهوم شی‌گرایی در برنامه‌نویسی چیست؟\"  \n**And** the student submits the question  \n**Then** the system should display a confirmation message \"سوال شما با موفقیت ثبت شد\"  \n**Then** the question should be visible in the admin/teacher panel  \n**Then** the question should be visible in the student panel",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						],
						"id": "c479689e-b293-4fa4-861e-490c689d50dd"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							"pm.test(`Status code should be 200 or 201, actual: ${pm.response.code}`, function () {\r",
							"    pm.expect([200, 201]).to.include(pm.response.code);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});\r",
							"setTimeout(() => {\r",
							"    console.log(\"Waited 200ms before sending request\");\r",
							"}, 100);\r",
							"console.log(\"➡️ Request Body:\", pm.request.body);"
						],
						"id": "8aa13e9d-d5a5-4ac4-b43c-601d6f20b5ca"
					}
				}
			]
		},
		{
			"name": "Answer & question(Text+Voice)",
			"item": [
				{
					"name": "balance  Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// تست: بالانس باید بیشتر از 50 باشه\r",
									"pm.test(\"Balance is greater than 50\", function () {\r",
									"    pm.expect(jsonData.balance).to.be.above(50);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "1980501d-b155-4dcf-85c4-6bf71c2ddf34"
							}
						}
					],
					"id": "49382794-ae1617f8-962b-4925-af26-1131569792cc",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "upload media-voice",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ec297aec-9335-4892-8319-a483cb87c9b2",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Voice\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-ba9ebd79-846e-4862-879b-3d6738df40e7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "audio",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d1",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18ca-411e-47a0-ac49-65c4f9d3a83c"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "Get courses",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c4ed377f-b760-470e-9e4b-384c27687fce",
								"exec": [
									"// Fixed SyntaxError by removing extra code\r",
									"let response = pm.response.json();\r",
									"\r",
									"// انتخاب رندوم یکی از آیتم‌ها\r",
									"let randomIndex = Math.floor(Math.random() * response.length);\r",
									"let randomSlug = response[randomIndex].slug;\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"random_slug\", randomSlug);\r",
									"\r",
									"// ذخیره در Collection (اختیاری)\r",
									"\r",
									"console.log(\"✅ slug به صورت رندوم ذخیره شد:\", randomSlug);\r",
									"\r",
									"console.log(\"⚠️ پاسخ خالی یا فرمت درست نیست\");\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-80386487-4597-49f0-b4fa-e6c642f37a69",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/courses/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"courses",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/courses/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjE3ODYyLCJpYXQiOjE3NTg2MTQyNjIsImp0aSI6IjAzMzFjYzQ3ZDIxMTQ2MGNhZWMxNDIyMTY2ZTIyZGQ0IiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjJ9.CZkI7WGmrvrNSsaXx302oD0jEpIg_hLmqwlQYtsq5bs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Add question Student (Text+Voice)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "82defef7-45ff-402a-b273-b6a2153dc3c5",
								"exec": [
									"// گرفتن بدنه‌ی پاسخ JSON\r",
									"const response = pm.response.json();\r",
									"\r",
									"// ذخیره question_id\r",
									"if (response && response.question_id) {\r",
									"    pm.environment.set(\"question_id_Voice\", response.question_id);\r",
									"    console.log(\"✅ question_id ذخیره شد:\", response.question_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ question_id در پاسخ یافت نشد\");\r",
									"}\r",
									"\r",
									"// ذخیره session_id\r",
									"if (response && response.session_id) {\r",
									"    pm.environment.set(\"Session_id_Voice\", response.session_id);\r",
									"    console.log(\"✅ session_id ذخیره شد:\", response.session_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ session_id در پاسخ یافت نشد\");\r",
									"}\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "8add9237-bf25-4a08-935e-fdc09d6960e9",
								"exec": [
									"// بانک سوالات اصلی (بدون تغییر)\r",
									"const questionsBank = {\r",
									"    \"Math\": [\r",
									"        { type: \"MCQ\", question: \"5 + 7 = ?\", options: [\"10\",\"12\",\"13\",\"11\"], answer: \"12\" },\r",
									"        { type: \"True/False\", question: \"9 * 0 = 0\", answer: true },\r",
									"        { type: \"Short\", question: \"توضیح بده مفهوم عدد اول چیست؟\" }\r",
									"    ],\r",
									"    \"Science\": [\r",
									"        { type: \"MCQ\", question: \"آب از چه چیزی تشکیل شده است؟\", options: [\"H2O\",\"CO2\",\"O2\",\"NaCl\"], answer: \"H2O\" },\r",
									"        { type: \"True/False\", question: \"زمین مرکز منظومه شمسی است.\", answer: false },\r",
									"        { type: \"Short\", question: \"عمل فتوسنتز چیست؟\" }\r",
									"    ],\r",
									"    \"History\": [\r",
									"        { type: \"MCQ\", question: \"سال کشف آمریکا توسط کریستف کلمب؟\", options: [\"1492\",\"1500\",\"1600\",\"1450\"], answer: \"1492\" },\r",
									"        { type: \"True/False\", question: \"انقلاب فرانسه در 1789 رخ داد.\", answer: true },\r",
									"        { type: \"Short\", question: \"چه کسی اولین رئیس جمهور آمریکا بود؟\" }\r",
									"    ],\r",
									"    \"Programming\": [\r",
									"        { type: \"MCQ\", question: \"زبان پایتون توسط چه کسی طراحی شد؟\", options: [\"Guido van Rossum\", \"James Gosling\", \"Bjarne Stroustrup\", \"Linus Torvalds\"], answer: \"Guido van Rossum\" },\r",
									"        { type: \"True/False\", question: \"Python یک زبان کامپایل شده است.\", answer: false },\r",
									"        { type: \"Short\", question: \"تفاوت لیست و تاپل در پایتون چیست؟\" }\r",
									"    ],\r",
									"    \"General\": [\r",
									"        { type: \"MCQ\", question: \"رنگ آسمان در روز آفتابی چیست؟\", options: [\"سبز\", \"آبی\", \"قرمز\", \"زرد\"], answer: \"آبی\" },\r",
									"        { type: \"True/False\", question: \"خورشید از ستاره‌هاست.\", answer: true },\r",
									"        { type: \"Short\", question: \"یک حیوان در حال انقراض نام ببر.\" }\r",
									"    ]\r",
									"};\r",
									"\r",
									"// انتخاب موضوع و سپس یک سوال تصادفی\r",
									"const subjects = Object.keys(questionsBank);\r",
									"const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];\r",
									"const questionList = questionsBank[randomSubject];\r",
									"const randomQuestion = questionList[Math.floor(Math.random() * questionList.length)];\r",
									"\r",
									"// فقط متن سوال را در متغیر محیطی ذخیره می‌کنیم\r",
									"pm.environment.set(\"randomQuestion\", randomQuestion.question);\r",
									"pm.environment.set(\"randomAnswer_Admin\", randomQuestion.answer);\r",
									"\r",
									"// نمایش در Console Postman برای بررسی\r",
									"console.log(\"Random Question:\", randomQuestion.question);\r",
									"console.log(\"Answer:\", randomQuestion.answer);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-76b730fb-4d7c-4792-9cc0-10897ae757bc",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"subject\": \"{{random_slug}}\",\r\n    \"text_content\": \"{{random_question}}\",\r\n    \"tag\": [\r\n        \"string\"\r\n    ],\r\n    \"type\": \"explain\",\r\n    \"urgency_level\": 1,\r\n    \"media_ids\": [\"{{Media_id_Voice}}\"]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU1ODgxLCJpYXQiOjE3NTc3NTIyODEsImp0aSI6IjkyZjg0MThlZjNmZjRhN2Q5YTBiNjUwOGM5NzM0ZTRhIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.Wqfe8blch7O5Owbzu8XghkryeDF1uTGv8L-TC9jjklY' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"subject\":\"other\",\"text_content\":\"مفهوم شی‌گرایی در برنامه‌نویسی چیست؟\",\"tag\":[\"string\"],\"type\":\"explain\",\"urgency_level\":1,\"media_ids\":[]}'"
					},
					"response": []
				},
				{
					"name": "find question in qusetion list Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "56991882-210e-4a69-8bd4-e347314c4379",
								"exec": [
									"// گرفتن پاسخ JSON\r",
									"let questions = pm.response.json();\r",
									"\r",
									"// گرفتن مقدار متغیر question_id_Voice از محیط Postman\r",
									"let targetId = pm.environment.get(\"question_id_Voice\");\r",
									"\r",
									"// پیدا کردن سوالی که question_id برابر با targetId باشد\r",
									"let question = questions.find(q => q.question_id === targetId);\r",
									"\r",
									"if (question) {\r",
									"    console.log(\"سوال پیدا شد:\", question);\r",
									"    // ذخیره متن سوال در متغیر محیطی\r",
									"    pm.environment.set(\"found_question_text\", question.text_content);\r",
									"} else {\r",
									"    console.log(\"سوالی با این ID پیدا نشد!\");\r",
									"}\r",
									"\r",
									"// Assertion: بررسی اینکه سوال پیدا شده یا نه\r",
									"pm.test(\"سوال با question_id_Voice پیدا شده باشد\", function () {\r",
									"    pm.expect(question).to.not.be.undefined;\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-062af788-ae7d-4a9b-a8f4-6685b89fc80d",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU1ODgxLCJpYXQiOjE3NTc3NTIyODEsImp0aSI6IjkyZjg0MThlZjNmZjRhN2Q5YTBiNjUwOGM5NzM0ZTRhIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.Wqfe8blch7O5Owbzu8XghkryeDF1uTGv8L-TC9jjklY' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "upload media-voice",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "be34d7f6-d295-4ae0-985e-be32285fadee",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Voice\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-09602a50-c7f7-41d3-a375-0ffb9c9f88e9",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "audio",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18ca-411e-47a0-ac49-65c4f9d3a83c"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "answers admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d1cd10bc-b299-4363-b62a-18911bb2b66c",
								"exec": [
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"answer_id\", jsonData.answer_id);\r",
									"\r",
									"console.log(\"answer_id saved:\", jsonData.answer_id);\r",
									"\r",
									"console.log(\"➡️ Request Body:\", pm.request.body);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "bb348427-6caa-44cc-905b-a6c66bc38ef3",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-d317811e-15c8-454c-a0e9-012396fe7437",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Token {{tokenAdmin}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"question\": \"{{question_id_Voice}}\",\r\n  \"text_content\": \"{{randomAnswer_Admin}}\",\r\n  \"audio_url\": \"\",\r\n  \"image_url\": \"\",\r\n  \"video_link\": \"\",\r\n  \"media_ids\": [\r\n    \"{{Session_id_Voice}}\",\"{{Media_id_Voice}}\"\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/answers/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"answers",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'POST' \\\r\n  'https://andarzapi-stage.darkube.app/api/answers/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'Authorization: db136be19ac17fa1a3bb3e5ac93fc5c262b8e801' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0' \\\r\n  -d '{\r\n  \"question\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"text_content\": \"string\",\r\n  \"audio_url\": \"string\",\r\n  \"image_url\": \"string\",\r\n  \"video_link\": \"string\",\r\n  \"media_ids\": [\r\n    \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\r\n  ]\r\n}'"
					},
					"response": []
				},
				{
					"name": "show question & Answer Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن مقدار Answer_Admin از متغیرهای پستمن و تبدیل \\n به خط جدید واقعی\r",
									"let answerAdmin = pm.variables.get(\"Answer_Admin\").replace(/\\\\n/g, \"\\n\");\r",
									"console.log(\"Answer_Admin (after \\\\n replaced):\", answerAdmin);\r",
									"\r",
									"// گرفتن بادی ریسپانس\r",
									"let jsonData = pm.response.json();\r",
									"\r",
									"// بررسی وجود متن در بین پاسخ‌ها\r",
									"let matchedAnswer = jsonData.answers.find(ans => {\r",
									"    console.log(\"Current answer text_content:\", ans.text_content); // لاگ هر text_content\r",
									"    return ans.text_content === answerAdmin;\r",
									"});\r",
									"\r",
									"// تست پاس/فیل\r",
									"pm.test(\"Check if text_content matches {{Answer_Admin}}\", function () {\r",
									"    pm.expect(!!matchedAnswer).to.eql(true);\r",
									"});\r",
									"\r",
									"// ذخیره نتیجه در متغیر محیطی (اختیاری)\r",
									"pm.environment.set(\"answer_exists\", matchedAnswer ? true : false);\r",
									"if (matchedAnswer) {\r",
									"    pm.environment.set(\"matched_answer_id\", matchedAnswer.answer_id);\r",
									"} else {\r",
									"    pm.environment.unset(\"matched_answer_id\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "ad94d479-5a63-4d50-be20-6ddf4e947506"
							}
						}
					],
					"id": "49382794-6a397dd2-7a87-457b-ab80-43674f611110",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/questions/{{question_id_text}}/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								"{{question_id_text}}",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/53cbd7e8-ff81-4884-828f-be3ed1eac6b6/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzY0NDg3LCJpYXQiOjE3NTc3NjA4ODcsImp0aSI6IjczYmEyZjAyZWQxMzRkYWNiOTIzYzhhNzdjMDBjMmExIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.OkfNiSDo1cGRzS59a9S46m_iQ9o8VOOLiVSV47F47KI' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				}
			],
			"id": "49382794-b94cd28c-9cc3-45c8-b4cb-7d16594016c3",
			"description": "**Feature**: Student asks a question and teacher answers  \n**As** a student user  \nI want to login and ask my academic question  \n**So** that I can receive an answer from a teacher\n\n**Background**:\n\n**Given** the student is on the login page\n\n**Scenario**: **Student logs in and submits a question**  \n**When** the student enters a valid phone number  \n**And** the system sends an OTP code to the student  \n**And** the student submits the correct OTP code  \n**Then** the student should be logged in successfully  \n**And** the student should be redirected to the Question page  \n**When** the student navigates to the \"Ask a Question\" page  \n**And** the student types the question \"مفهوم شی‌گرایی در برنامه‌نویسی چیست؟\"  \n**And** the student upload Vioce in the question  \n**And** the student submits the question  \n**Then** the system should display a confirmation message \"سوال شما با موفقیت ثبت شد\"  \n**Then** the question should be visible in the admin/teacher panel  \n**Then** the question should be visible in the student panel",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						],
						"id": "f362626d-15de-4ae0-8aee-0f961017263d"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							"pm.test(`Status code should be 200 or 201, actual: ${pm.response.code}`, function () {\r",
							"    pm.expect([200, 201]).to.include(pm.response.code);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});\r",
							"setTimeout(() => {\r",
							"    console.log(\"Waited 200ms before sending request\");\r",
							"}, 100);\r",
							"\r",
							"\r",
							"console.log(\"➡️ Request Body:\", pm.request.body);"
						],
						"id": "b06dac08-8704-45bd-acdc-cc0f186ceda8"
					}
				}
			]
		},
		{
			"name": "Answer & question(Text+Voice+ image)",
			"item": [
				{
					"name": "balance  Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// تست: بالانس باید بیشتر از 50 باشه\r",
									"pm.test(\"Balance is greater than 50\", function () {\r",
									"    pm.expect(jsonData.balance).to.be.above(50);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "1ab3bb8a-47a7-4304-8a67-5931b13d2434"
							}
						}
					],
					"id": "49382794-9efdc5fd-caf9-4135-9d30-d2ef1acd90e5",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "upload media-voice",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a3d547f6-e862-4aea-a834-8896f60f7246",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Voice\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-4a2cbafe-bb8e-4b45-a2eb-43004459028d",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "audio",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18ca-411e-47a0-ac49-65c4f9d3a83c"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "upload media-image",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8ff95e3a-d28b-4fd0-a30a-67df10f1c8bb",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Image\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-f2de8be7-1461-43ea-a77b-a39e72a5c825",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "image",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18be-d871-49b0-a89d-4d30648584f9"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "Get courses",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "095f1b4a-7101-4b38-b369-fb3d5bca12f3",
								"exec": [
									"// Fixed SyntaxError by removing extra code\r",
									"let response = pm.response.json();\r",
									"\r",
									"// انتخاب رندوم یکی از آیتم‌ها\r",
									"let randomIndex = Math.floor(Math.random() * response.length);\r",
									"let randomSlug = response[randomIndex].slug;\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"random_slug\", randomSlug);\r",
									"\r",
									"// ذخیره در Collection (اختیاری)\r",
									"\r",
									"console.log(\"✅ slug به صورت رندوم ذخیره شد:\", randomSlug);\r",
									"\r",
									"console.log(\"⚠️ پاسخ خالی یا فرمت درست نیست\");\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-226d64e1-3c4e-4eb5-8510-6dad0e2d6977",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/courses/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"courses",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/courses/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjE3ODYyLCJpYXQiOjE3NTg2MTQyNjIsImp0aSI6IjAzMzFjYzQ3ZDIxMTQ2MGNhZWMxNDIyMTY2ZTIyZGQ0IiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjJ9.CZkI7WGmrvrNSsaXx302oD0jEpIg_hLmqwlQYtsq5bs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Add question Student (Text+Voice+ image)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8949b770-4d07-4afb-98df-1ca75e455055",
								"exec": [
									"// گرفتن بدنه‌ی پاسخ JSON\r",
									"const response = pm.response.json();\r",
									"\r",
									"// ذخیره question_id\r",
									"if (response && response.question_id) {\r",
									"    pm.environment.set(\"question_id_medias\", response.question_id);\r",
									"    console.log(\"✅ question_id ذخیره شد:\", response.question_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ question_id در پاسخ یافت نشد\");\r",
									"}\r",
									"\r",
									"// ذخیره session_id\r",
									"if (response && response.session_id) {\r",
									"    pm.environment.set(\"Session_id_medias\", response.session_id);\r",
									"    console.log(\"✅ session_id ذخیره شد:\", response.session_id);\r",
									"} else {\r",
									"    console.warn(\"⚠️ session_id در پاسخ یافت نشد\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "7f644322-2f25-4aff-8954-a189fe6d762d",
								"exec": [
									"// بانک سوالات اصلی (بدون تغییر)\r",
									"const questionsBank = {\r",
									"    \"Math\": [\r",
									"        { type: \"MCQ\", question: \"5 + 7 = ?\", options: [\"10\",\"12\",\"13\",\"11\"], answer: \"12\" },\r",
									"        { type: \"True/False\", question: \"9 * 0 = 0\", answer: true },\r",
									"        { type: \"Short\", question: \"توضیح بده مفهوم عدد اول چیست؟\" }\r",
									"    ],\r",
									"    \"Science\": [\r",
									"        { type: \"MCQ\", question: \"آب از چه چیزی تشکیل شده است؟\", options: [\"H2O\",\"CO2\",\"O2\",\"NaCl\"], answer: \"H2O\" },\r",
									"        { type: \"True/False\", question: \"زمین مرکز منظومه شمسی است.\", answer: false },\r",
									"        { type: \"Short\", question: \"عمل فتوسنتز چیست؟\" }\r",
									"    ],\r",
									"    \"History\": [\r",
									"        { type: \"MCQ\", question: \"سال کشف آمریکا توسط کریستف کلمب؟\", options: [\"1492\",\"1500\",\"1600\",\"1450\"], answer: \"1492\" },\r",
									"        { type: \"True/False\", question: \"انقلاب فرانسه در 1789 رخ داد.\", answer: true },\r",
									"        { type: \"Short\", question: \"چه کسی اولین رئیس جمهور آمریکا بود؟\" }\r",
									"    ],\r",
									"    \"Programming\": [\r",
									"        { type: \"MCQ\", question: \"زبان پایتون توسط چه کسی طراحی شد؟\", options: [\"Guido van Rossum\", \"James Gosling\", \"Bjarne Stroustrup\", \"Linus Torvalds\"], answer: \"Guido van Rossum\" },\r",
									"        { type: \"True/False\", question: \"Python یک زبان کامپایل شده است.\", answer: false },\r",
									"        { type: \"Short\", question: \"تفاوت لیست و تاپل در پایتون چیست؟\" }\r",
									"    ],\r",
									"    \"General\": [\r",
									"        { type: \"MCQ\", question: \"رنگ آسمان در روز آفتابی چیست؟\", options: [\"سبز\", \"آبی\", \"قرمز\", \"زرد\"], answer: \"آبی\" },\r",
									"        { type: \"True/False\", question: \"خورشید از ستاره‌هاست.\", answer: true },\r",
									"        { type: \"Short\", question: \"یک حیوان در حال انقراض نام ببر.\" }\r",
									"    ]\r",
									"};\r",
									"\r",
									"// انتخاب موضوع و سپس یک سوال تصادفی\r",
									"const subjects = Object.keys(questionsBank);\r",
									"const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];\r",
									"const questionList = questionsBank[randomSubject];\r",
									"const randomQuestion = questionList[Math.floor(Math.random() * questionList.length)];\r",
									"\r",
									"// فقط متن سوال را در متغیر محیطی ذخیره می‌کنیم\r",
									"pm.environment.set(\"randomQuestion\", randomQuestion.question);\r",
									"\r",
									"// نمایش در Console Postman برای بررسی\r",
									"console.log(\"Random Question:\", randomQuestion.question);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-f5711ec8-ee4e-4e74-bf13-6bc7f67a18f8",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\r\n{\r\n    \"subject\": \"{{random_slug}}\",\r\n    \"text_content\": \"{{randomQuestion}}\",\r\n    \"tag\": [\r\n        \"string\"\r\n    ],\r\n    \"type\": \"explain\",\r\n    \"urgency_level\": 1,\r\n    \"media_ids\": [\"{{Media_id_Voice}}\",\"{{Media_id_Image}}\"]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU1ODgxLCJpYXQiOjE3NTc3NTIyODEsImp0aSI6IjkyZjg0MThlZjNmZjRhN2Q5YTBiNjUwOGM5NzM0ZTRhIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.Wqfe8blch7O5Owbzu8XghkryeDF1uTGv8L-TC9jjklY' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"subject\":\"other\",\"text_content\":\"مفهوم شی‌گرایی در برنامه‌نویسی چیست؟\",\"tag\":[\"string\"],\"type\":\"explain\",\"urgency_level\":1,\"media_ids\":[]}'"
					},
					"response": []
				},
				{
					"name": "find question in qusetion list Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن question_id از اینوارمنت\r",
									"const questionId = pm.environment.get(\"question_id_text\");\r",
									"\r",
									"// گرفتن خروجی API\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Question ID must exist in response list\", function () {\r",
									"    if (Array.isArray(jsonData)) {\r",
									"        const foundItem = jsonData.find(item => item.question_id === String(questionId).trim());\r",
									"\r",
									"        pm.expect(!!foundItem, \"❌ Question ID not found in response\").to.be.true;\r",
									"\r",
									"        if (foundItem) {\r",
									"            console.log(\"✅ Found Question ID:\", foundItem.question_id);\r",
									"        }\r",
									"    } else {\r",
									"        pm.expect.fail(\"⚠️ Response is not an array!\");\r",
									"    }\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "f2a516d3-8b99-4c66-bb88-a247268cb9c9"
							}
						}
					],
					"id": "49382794-cb8314e0-aa1d-4bbe-8d4b-6d3246b4af76",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU1ODgxLCJpYXQiOjE3NTc3NTIyODEsImp0aSI6IjkyZjg0MThlZjNmZjRhN2Q5YTBiNjUwOGM5NzM0ZTRhIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.Wqfe8blch7O5Owbzu8XghkryeDF1uTGv8L-TC9jjklY' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "upload media-image-Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c29e307d-c1b3-4e14-bb30-fb60bae3f377",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Image\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);\r",
									"setTimeout(() => {\r",
									"    console.log(\"Waited 200ms before sending request\");\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-c2e4fcd0-6176-492e-bf4f-e54f1b791163",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "image",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18be-d871-49b0-a89d-4d30648584f9"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "upload media-voice-Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7935c1ab-9806-4af6-a504-8be1ef5b8da0",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره media_id در Environment\r",
									"pm.environment.set(\"Media_id_Voice\", jsonData.media.media_id);\r",
									"\r",
									"console.log(\"media_id saved:\", jsonData.media.media_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-d53099a1-afe5-4526-86c4-52a1b1cd9085",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "audio",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d1",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18ca-411e-47a0-ac49-65c4f9d3a83c"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "answers admin(Text+Voice+ image)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره در Environment\r",
									"pm.environment.set(\"answer_id\", jsonData.answer_id);\r",
									"\r",
									"console.log(\"answer_id saved:\", jsonData.answer_id);\r",
									"\r",
									"console.log(\"➡️ Request Body:\", pm.request.body);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "d4c3e0ab-93a1-471d-9fab-e305d7ab5929"
							}
						}
					],
					"id": "49382794-4f78389c-30ae-4478-82b3-5dc2581bfdf0",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Token {{tokenAdmin}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"question\": \"{{question_id_medias}}\",\r\n  \"text_content\": \"{{randomAnswer_Admin}}\",\r\n  \"audio_url\": \"\",\r\n  \"image_url\": \"\",\r\n  \"video_link\": \"\",\r\n  \"media_ids\": [\r\n    \"{{Session_id_medias}}\",\"{{Media_id_Voice}}\",\"{{Media_id_Image}}\"\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/answers/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"answers",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'POST' \\\r\n  'https://andarzapi-stage.darkube.app/api/answers/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'Authorization: db136be19ac17fa1a3bb3e5ac93fc5c262b8e801' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: rueP9f4k9Sh43LXCR7ZE0X5BOGoaZvMK4RG4IazpbnTXF044jDt1pBm0ficNOYG0' \\\r\n  -d '{\r\n  \"question\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"text_content\": \"string\",\r\n  \"audio_url\": \"string\",\r\n  \"image_url\": \"string\",\r\n  \"video_link\": \"string\",\r\n  \"media_ids\": [\r\n    \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\r\n  ]\r\n}'"
					},
					"response": []
				},
				{
					"name": "show question & Answer Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2c744f06-16e2-4af0-bfd7-a51e1055df9e",
								"exec": [
									"// گرفتن پاسخ JSON\r",
									"let questions = pm.response.json();\r",
									"\r",
									"// گرفتن مقدار متغیر question_id_Voice از محیط Postman\r",
									"let targetId = pm.environment.get(\"question_id_medias\");\r",
									"\r",
									"// پیدا کردن سوالی که question_id برابر با targetId باشد\r",
									"let question = questions.find(q => q.question_id === targetId);\r",
									"\r",
									"if (question) {\r",
									"    console.log(\"سوال پیدا شد:\", question);\r",
									"    // ذخیره متن سوال در متغیر محیطی\r",
									"    pm.environment.set(\"found_question_text\", question.text_content);\r",
									"} else {\r",
									"    console.log(\"سوالی با این ID پیدا نشد!\");\r",
									"}\r",
									"\r",
									"// Assertion: بررسی اینکه سوال پیدا شده یا نه\r",
									"pm.test(\"سوال با question_id_Voice پیدا شده باشد\", function () {\r",
									"    pm.expect(question).to.not.be.undefined;\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-1d8470cb-c852-459b-8c33-1d153488ac17",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/questions/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"questions",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/questions/53cbd7e8-ff81-4884-828f-be3ed1eac6b6/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzY0NDg3LCJpYXQiOjE3NTc3NjA4ODcsImp0aSI6IjczYmEyZjAyZWQxMzRkYWNiOTIzYzhhNzdjMDBjMmExIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.OkfNiSDo1cGRzS59a9S46m_iQ9o8VOOLiVSV47F47KI' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				}
			],
			"id": "49382794-ce8f2a5c-bc03-475d-90e5-c569dc5539b2",
			"description": "**Feature**: Student asks a question and teacher answers  \n**As** a student user  \nI want to login and ask my academic question  \n**So** that I can receive an answer from a teacher\n\n**Background**:\n\n**Given** the student is on the login page\n\n**Scenario**: **Student logs in and submits a question**  \n**When** the student enters a valid phone number  \n**And** the system sends an OTP code to the student  \n**And** the student submits the correct OTP code  \n**Then** the student should be logged in successfully  \n**And** the student should be redirected to the Question page  \n**When** the student navigates to the \"Ask a Question\" page  \n**And** the student types the question \"مفهوم شی‌گرایی در برنامه‌نویسی چیست؟\"  \n**And** the student upload Vioce in the question  \n**And** the student upload image in the question  \n**And** the student submits the question  \n**Then** the system should display a confirmation message \"سوال شما با موفقیت ثبت شد\"  \n**Then** the question should be visible in the admin/teacher panel  \n**Then** the question should be visible in the student panel",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						],
						"id": "4975c07d-0152-41be-8c67-52aa058b8283"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"exec": [
							"pm.test(`Status code should be 200 or 201, actual: ${pm.response.code}`, function () {\r",
							"    pm.expect([200, 201]).to.include(pm.response.code);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});\r",
							"setTimeout(() => {\r",
							"    console.log(\"Waited 200ms before sending request\");\r",
							"}, 100);\r",
							"console.log(\"➡️ Request Body:\", pm.request.body);"
						],
						"id": "f2095263-3ef3-473e-a111-ff1c671b2497"
					}
				}
			]
		},
		{
			"name": "Student logs in and submits a question by Andi(Text)",
			"item": [
				{
					"name": "balance  Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// تست: بالانس باید بیشتر از 50 باشه\r",
									"pm.test(\"Balance is greater than 50\", function () {\r",
									"    pm.expect(jsonData.balance).to.be.above(50);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "073ddf42-aea0-426b-86bf-363014e53d01"
							}
						}
					],
					"id": "49382794-167375ac-1f68-4424-9a17-fb7823f738ab",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "ask andi",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5434ffbc-a6cf-4b35-9bf0-f8f952add1ba",
								"exec": [
									"// تبدیل پاسخ به JSON\r",
									"let response = pm.response.json();\r",
									"\r",
									"// چک کن session_id وجود داشته باشه\r",
									"\r",
									"    // ذخیره در Environment\r",
									"pm.environment.set(\"Session_id\", response.session_id);\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "417583fc-3923-4368-b1a4-f3d08c422cf5",
								"exec": [
									"const questions = [\r",
									"    \"2 + 3 = ؟\",\r",
									"    \"5 - 2 = ؟\",\r",
									"    \"3 × 4 = ؟\",\r",
									"    \"12 ÷ 3 = ؟\",\r",
									"    \"جمع اعداد 7 و 8 چیست؟\",\r",
									"    \"کدام عدد اول است؟ 4، 5، 6\",\r",
									"    \"10 + 15 = ؟\",\r",
									"    \"20 - 9 = ؟\",\r",
									"    \"6 × 7 = ؟\",\r",
									"    \"30 ÷ 5 = ؟\",\r",
									"    \"آب چند حالت دارد؟\",\r",
									"    \"نور چیست؟\",\r",
									"    \"گیاهان چه چیزی تولید می‌کنند؟\",\r",
									"    \"ستاره چیست؟\",\r",
									"    \"باد چگونه تشکیل می‌شود؟\",\r",
									"    \"قاره آسیا چند کشور دارد؟\",\r",
									"    \"تهران پایتخت کدام کشور است؟\",\r",
									"    \"ایران چند استان دارد؟\",\r",
									"    \"رودخانه کارون در کدام استان است؟\",\r",
									"    \"دریاچه ارومیه در کدام استان است؟\",\r",
									"    \"در جمله 'کتاب روی میز است'، فعل کدام است؟\",\r",
									"    \"در جمله 'من به مدرسه رفتم'، فاعل چیست؟\",\r",
									"    \"کلمه 'خانه' چه نوع کلمه‌ای است؟\",\r",
									"    \"ضمیر در جمله 'او خوب درس می‌خواند' چیست؟\",\r",
									"    \"مفعول جمله 'علی کتاب را خواند' کدام است؟\",\r",
									"    \"حروف اضافه را نام ببر\",\r",
									"    \"در کلمه 'مدرسه' چه تعداد حرف صدادار وجود دارد؟\",\r",
									"    \"رنگ آسمان چیست؟\",\r",
									"    \"آتش چه چیزی تولید می‌کند؟\",\r",
									"    \"باد چگونه حرکت می‌کند؟\",\r",
									"    \"چرا زمین گرد است؟\",\r",
									"    \"خورشید چیست؟\",\r",
									"    \"ماه چیست؟\",\r",
									"    \"چهار فصل سال را نام ببر\",\r",
									"    \"شب و روز چگونه تشکیل می‌شود؟\",\r",
									"    \"باران چگونه شکل می‌گیرد؟\",\r",
									"    \"برف چگونه تشکیل می‌شود؟\",\r",
									"    \"کدام جانور پرواز می‌کند؟\",\r",
									"    \"کدام جانور آبزی است؟\",\r",
									"    \"کدام جانور خشکی زی است؟\",\r",
									"    \"گیاهان چه نیازهایی دارند؟\",\r",
									"    \"چرا برگ‌ها سبز هستند؟\",\r",
									"    \"چه چیزی باعث رشد گیاهان می‌شود؟\",\r",
									"    \"دما چیست؟\",\r",
									"    \"فشار چیست؟\",\r",
									"    \"وزن چیست؟\",\r",
									"    \"حجم چیست؟\",\r",
									"    \"چگالی چیست؟\",\r",
									"    \"عدد زوج را نام ببر\",\r",
									"    \"عدد فرد را نام ببر\",\r",
									"    \"5 + 7 = ؟\",\r",
									"    \"9 - 4 = ؟\",\r",
									"    \"6 × 6 = ؟\",\r",
									"    \"36 ÷ 6 = ؟\",\r",
									"    \"7 + 8 = ؟\",\r",
									"    \"12 - 5 = ؟\",\r",
									"    \"3 × 9 = ؟\",\r",
									"    \"27 ÷ 3 = ؟\",\r",
									"    \"15 + 5 = ؟\",\r",
									"    \"20 - 6 = ؟\",\r",
									"    \"7 × 8 = ؟\",\r",
									"    \"56 ÷ 7 = ؟\",\r",
									"    \"کدام حیوان پستاندار است؟\",\r",
									"    \"کدام حیوان تخم‌گذار است؟\",\r",
									"    \"کدام حیوان گوشت‌خوار است؟\",\r",
									"    \"کدام حیوان گیاه‌خوار است؟\",\r",
									"    \"سیاره زمین چند کره دارد؟\",\r",
									"    \"ماه زمین چیست؟\",\r",
									"    \"ستاره دنباله‌دار چیست؟\",\r",
									"    \"سیاره مریخ کجاست؟\",\r",
									"    \"آب شور چیست؟\",\r",
									"    \"آب شیرین چیست؟\",\r",
									"    \"نمک چیست؟\",\r",
									"    \"قند چیست؟\",\r",
									"    \"آهن چیست؟\",\r",
									"    \"مس چیست؟\",\r",
									"    \"روی چیست؟\",\r",
									"    \"طلا چیست؟\",\r",
									"    \"نقره چیست؟\",\r",
									"    \"فولاد چیست؟\",\r",
									"    \"چرا زمین به دور خورشید می‌چرخد؟\",\r",
									"    \"چرا ماه به دور زمین می‌چرخد؟\",\r",
									"    \"چه چیزی باعث شب و روز می‌شود؟\",\r",
									"    \"چه چیزی باعث فصل‌ها می‌شود؟\",\r",
									"    \"نور چگونه منتقل می‌شود؟\",\r",
									"    \"صوت چگونه منتقل می‌شود؟\",\r",
									"    \"چرا باد می‌وزد؟\",\r",
									"    \"چرا باران می‌بارد؟\",\r",
									"    \"درختان چرا برگ دارند؟\",\r",
									"    \"گیاهان چه چیزی تولید می‌کنند؟\",\r",
									"    \"حیوانات چه چیزی مصرف می‌کنند؟\",\r",
									"    \"انسان چه چیزی نیاز دارد؟\",\r",
									"    \"چرا باید آب بخوریم؟\",\r",
									"    \"چرا باید غذا بخوریم؟\",\r",
									"    \"کدام ماه طولانی‌ترین روز را دارد؟\",\r",
									"    \"کدام ماه طولانی‌ترین شب را دارد؟\",\r",
									"    \"کدام فصل گرم‌ترین است؟\",\r",
									"    \"کدام فصل سردترین است؟\",\r",
									"    \"عدد 0 زوج است یا فرد؟\",\r",
									"    \"عدد 1 زوج است یا فرد؟\",\r",
									"    \"عدد 2 زوج است یا فرد؟\",\r",
									"    \"عدد 3 زوج است یا فرد؟\",\r",
									"    \"عدد 4 زوج است یا فرد؟\",\r",
									"    \"عدد 5 زوج است یا فرد؟\",\r",
									"    \"عدد 6 زوج است یا فرد؟\",\r",
									"    \"عدد 7 زوج است یا فرد؟\",\r",
									"    \"عدد 8 زوج است یا فرد؟\",\r",
									"    \"عدد 9 زوج است یا فرد؟\",\r",
									"    \"عدد 10 زوج است یا فرد؟\",\r",
									"    \"عدد 11 زوج است یا فرد؟\",\r",
									"    \"عدد 12 زوج است یا فرد؟\",\r",
									"    \"عدد 13 زوج است یا فرد؟\",\r",
									"    \"عدد 14 زوج است یا فرد؟\",\r",
									"    \"عدد 15 زوج است یا فرد؟\"\r",
									"];\r",
									"// تابع انتخاب تصادفی\r",
									"const getRandomItem = (array) => array[Math.floor(Math.random() * array.length)];\r",
									"\r",
									"// انتخاب یک سوال تصادفی\r",
									"const randomQuestion = getRandomItem(questions);\r",
									"\r",
									"// ذخیره در متغیر محیطی\r",
									"pm.environment.set(\"student_question\", randomQuestion);\r",
									"\r",
									"// نمایش در کنسول\r",
									"console.log(\"سوال انتخاب‌شده:\", randomQuestion);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-add2a152-63ff-489d-bc25-443a3f7cfb0c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "subject",
									"value": "{{random_slug}}",
									"type": "text"
								},
								{
									"key": "language",
									"value": "fa",
									"type": "text"
								},
								{
									"key": "input",
									"value": "{{student_question}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/andi/ask/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"andi",
								"ask",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/andi/ask/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjI4NjU2LCJpYXQiOjE3NTg2MjUwNTYsImp0aSI6IjZkOWZiYzQ5NjllYzQ4MTRiYWQ0NWNmNzEyNTc4MDdkIiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjN9.r9-C4JfGt3SDTwQULM6ePNpGxG7hXFGgZivNKdbwpj8' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundaryR00mtljdoHkqXogW' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundaryR00mtljdoHkqXogW\\r\\nContent-Disposition: form-data; name=\"subject\"\\r\\n\\r\\nmath_01\\r\\n------WebKitFormBoundaryR00mtljdoHkqXogW\\r\\nContent-Disposition: form-data; name=\"language\"\\r\\n\\r\\nfa\\r\\n------WebKitFormBoundaryR00mtljdoHkqXogW\\r\\nContent-Disposition: form-data; name=\"input\"\\r\\n\\r\\n2+2 \\r\\nچند میشه\\r\\n------WebKitFormBoundaryR00mtljdoHkqXogW--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "Get answer Andi",
					"id": "49382794-2b5a12eb-14d3-4701-b138-7908dfa1d371",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/sessions/{{Session_id}}/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"sessions",
								"{{Session_id}}",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/sessions/6dcdca2c-18a1-4f74-956f-0a62df74cc83/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjM3MzQ5LCJpYXQiOjE3NTg2MzM3NDksImp0aSI6ImU3NTU4NjQ4MzA4MzRhZWQ5ZTNmZDU5ODVlMzJiZjdmIiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjN9.Sz38MShiMzNY5Kv9JPy_jfLMOnnjnOTwVB1CK9NrBYM' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				}
			],
			"id": "49382794-9065e463-7f2e-40be-a832-cf59b21ad18f",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ca2c7ae1-13c1-4485-a759-da01340e1390",
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "55845f35-8cf9-4add-bccf-d34dad01e49b",
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							"pm.test(\"Status code is 200 or 202\", function () {\r",
							"    pm.expect(pm.response.code === 200 || pm.response.code === 202).to.be.true;\r",
							"});\r",
							"       \r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});"
						]
					}
				}
			]
		},
		{
			"name": "Student logs in and submits a question by Andi(Text + Image)) Copy",
			"item": [
				{
					"name": "balance  Student",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// تست: بالانس باید بیشتر از 50 باشه\r",
									"pm.test(\"Balance is greater than 50\", function () {\r",
									"    pm.expect(jsonData.balance).to.be.above(50);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"id": "073ddf42-aea0-426b-86bf-363014e53d01"
							}
						}
					],
					"id": "49382794-6a14a286-5133-43a8-a640-ba6c47d8d4f7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/anddo/balance/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"anddo",
								"balance",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/anddo/balance/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzYxMzEyLCJpYXQiOjE3NTc3NTc3MTIsImp0aSI6IjdkMjAxNWFjNzY3NTQ2OWZhZDhmZjU3Njg4ZWQwNmJlIiwidXNlcl9pZCI6IjVlZDA2ODE2LWNmYjUtNGYxNC1iYzBmLTFiNTExODA1MWNkYSJ9.n8HmFuhA15MG5u0aZAxa8WbXIGKF8lg6wn7vaAGeuQs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "upload pic",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1050c521-2f13-4dd8-93d6-bde721f0158b",
								"exec": [
									"// دریافت پاسخ JSON\r",
									"let response = pm.response.json();\r",
									"\r",
									"// بررسی وجود media و media_id\r",
									"if (response.media && response.media.media_id) {\r",
									"    let mediaId = response.media.media_id;\r",
									"\r",
									"    // ذخیره در متغیر محیطی\r",
									"    pm.environment.set(\"media_id\", mediaId);\r",
									"\r",
									"    // یا ذخیره در متغیر کالکشن\r",
									"    // pm.collectionVariables.set(\"media_id\", mediaId);\r",
									"\r",
									"    console.log(\"Media ID ذخیره شد:\", mediaId);\r",
									"} else {\r",
									"    console.log(\"Media ID پیدا نشد!\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b6b29209-6686-42f9-877b-92730a294984",
								"exec": [
									"// متغیر مسیر فایل رو از Collection Variable بخون\r",
									"const imagePath = pm.collectionVariables.get(\"image_path\");\r",
									"\r",
									"if (!imagePath) {\r",
									"    throw new Error(\"متغیر image_path تنظیم نشده است!\");\r",
									"}\r",
									"\r",
									"// مسیر فایل رو به صورت داینامیک در form-data ست کن\r",
									"pm.request.body.formdata.remove(\"file\"); // اگر قبلاً وجود داشت پاک کن\r",
									"pm.request.body.formdata.add({\r",
									"    key: \"file\",\r",
									"    type: \"file\",\r",
									"    value: imagePath // مسیر فایل\r",
									"});\r",
									"\r",
									"console.log(\"فایل آپلود می‌شود از:\", imagePath);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-f3da2656-3724-492a-9642-1b5c5fdab9bd",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "image",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"value": null
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "ask andi",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5434ffbc-a6cf-4b35-9bf0-f8f952add1ba",
								"exec": [
									"// تبدیل پاسخ به JSON\r",
									"let response = pm.response.json();\r",
									"\r",
									"// چک کن session_id وجود داشته باشه\r",
									"\r",
									"    // ذخیره در Environment\r",
									"pm.environment.set(\"Session_id\", response.session_id);\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "417583fc-3923-4368-b1a4-f3d08c422cf5",
								"exec": [
									"const questions = [\r",
									"    \"2 + 3 = ؟\",\r",
									"    \"5 - 2 = ؟\",\r",
									"    \"3 × 4 = ؟\",\r",
									"    \"12 ÷ 3 = ؟\",\r",
									"    \"جمع اعداد 7 و 8 چیست؟\",\r",
									"    \"کدام عدد اول است؟ 4، 5، 6\",\r",
									"    \"10 + 15 = ؟\",\r",
									"    \"20 - 9 = ؟\",\r",
									"    \"6 × 7 = ؟\",\r",
									"    \"30 ÷ 5 = ؟\",\r",
									"    \"آب چند حالت دارد؟\",\r",
									"    \"نور چیست؟\",\r",
									"    \"گیاهان چه چیزی تولید می‌کنند؟\",\r",
									"    \"ستاره چیست؟\",\r",
									"    \"باد چگونه تشکیل می‌شود؟\",\r",
									"    \"قاره آسیا چند کشور دارد؟\",\r",
									"    \"تهران پایتخت کدام کشور است؟\",\r",
									"    \"ایران چند استان دارد؟\",\r",
									"    \"رودخانه کارون در کدام استان است؟\",\r",
									"    \"دریاچه ارومیه در کدام استان است؟\",\r",
									"    \"در جمله 'کتاب روی میز است'، فعل کدام است؟\",\r",
									"    \"در جمله 'من به مدرسه رفتم'، فاعل چیست؟\",\r",
									"    \"کلمه 'خانه' چه نوع کلمه‌ای است؟\",\r",
									"    \"ضمیر در جمله 'او خوب درس می‌خواند' چیست؟\",\r",
									"    \"مفعول جمله 'علی کتاب را خواند' کدام است؟\",\r",
									"    \"حروف اضافه را نام ببر\",\r",
									"    \"در کلمه 'مدرسه' چه تعداد حرف صدادار وجود دارد؟\",\r",
									"    \"رنگ آسمان چیست؟\",\r",
									"    \"آتش چه چیزی تولید می‌کند؟\",\r",
									"    \"باد چگونه حرکت می‌کند؟\",\r",
									"    \"چرا زمین گرد است؟\",\r",
									"    \"خورشید چیست؟\",\r",
									"    \"ماه چیست؟\",\r",
									"    \"چهار فصل سال را نام ببر\",\r",
									"    \"شب و روز چگونه تشکیل می‌شود؟\",\r",
									"    \"باران چگونه شکل می‌گیرد؟\",\r",
									"    \"برف چگونه تشکیل می‌شود؟\",\r",
									"    \"کدام جانور پرواز می‌کند؟\",\r",
									"    \"کدام جانور آبزی است؟\",\r",
									"    \"کدام جانور خشکی زی است؟\",\r",
									"    \"گیاهان چه نیازهایی دارند؟\",\r",
									"    \"چرا برگ‌ها سبز هستند؟\",\r",
									"    \"چه چیزی باعث رشد گیاهان می‌شود؟\",\r",
									"    \"دما چیست؟\",\r",
									"    \"فشار چیست؟\",\r",
									"    \"وزن چیست؟\",\r",
									"    \"حجم چیست؟\",\r",
									"    \"چگالی چیست؟\",\r",
									"    \"عدد زوج را نام ببر\",\r",
									"    \"عدد فرد را نام ببر\",\r",
									"    \"5 + 7 = ؟\",\r",
									"    \"9 - 4 = ؟\",\r",
									"    \"6 × 6 = ؟\",\r",
									"    \"36 ÷ 6 = ؟\",\r",
									"    \"7 + 8 = ؟\",\r",
									"    \"12 - 5 = ؟\",\r",
									"    \"3 × 9 = ؟\",\r",
									"    \"27 ÷ 3 = ؟\",\r",
									"    \"15 + 5 = ؟\",\r",
									"    \"20 - 6 = ؟\",\r",
									"    \"7 × 8 = ؟\",\r",
									"    \"56 ÷ 7 = ؟\",\r",
									"    \"کدام حیوان پستاندار است؟\",\r",
									"    \"کدام حیوان تخم‌گذار است؟\",\r",
									"    \"کدام حیوان گوشت‌خوار است؟\",\r",
									"    \"کدام حیوان گیاه‌خوار است؟\",\r",
									"    \"سیاره زمین چند کره دارد؟\",\r",
									"    \"ماه زمین چیست؟\",\r",
									"    \"ستاره دنباله‌دار چیست؟\",\r",
									"    \"سیاره مریخ کجاست؟\",\r",
									"    \"آب شور چیست؟\",\r",
									"    \"آب شیرین چیست؟\",\r",
									"    \"نمک چیست؟\",\r",
									"    \"قند چیست؟\",\r",
									"    \"آهن چیست؟\",\r",
									"    \"مس چیست؟\",\r",
									"    \"روی چیست؟\",\r",
									"    \"طلا چیست؟\",\r",
									"    \"نقره چیست؟\",\r",
									"    \"فولاد چیست؟\",\r",
									"    \"چرا زمین به دور خورشید می‌چرخد؟\",\r",
									"    \"چرا ماه به دور زمین می‌چرخد؟\",\r",
									"    \"چه چیزی باعث شب و روز می‌شود؟\",\r",
									"    \"چه چیزی باعث فصل‌ها می‌شود؟\",\r",
									"    \"نور چگونه منتقل می‌شود؟\",\r",
									"    \"صوت چگونه منتقل می‌شود؟\",\r",
									"    \"چرا باد می‌وزد؟\",\r",
									"    \"چرا باران می‌بارد؟\",\r",
									"    \"درختان چرا برگ دارند؟\",\r",
									"    \"گیاهان چه چیزی تولید می‌کنند؟\",\r",
									"    \"حیوانات چه چیزی مصرف می‌کنند؟\",\r",
									"    \"انسان چه چیزی نیاز دارد؟\",\r",
									"    \"چرا باید آب بخوریم؟\",\r",
									"    \"چرا باید غذا بخوریم؟\",\r",
									"    \"کدام ماه طولانی‌ترین روز را دارد؟\",\r",
									"    \"کدام ماه طولانی‌ترین شب را دارد؟\",\r",
									"    \"کدام فصل گرم‌ترین است؟\",\r",
									"    \"کدام فصل سردترین است؟\",\r",
									"    \"عدد 0 زوج است یا فرد؟\",\r",
									"    \"عدد 1 زوج است یا فرد؟\",\r",
									"    \"عدد 2 زوج است یا فرد؟\",\r",
									"    \"عدد 3 زوج است یا فرد؟\",\r",
									"    \"عدد 4 زوج است یا فرد؟\",\r",
									"    \"عدد 5 زوج است یا فرد؟\",\r",
									"    \"عدد 6 زوج است یا فرد؟\",\r",
									"    \"عدد 7 زوج است یا فرد؟\",\r",
									"    \"عدد 8 زوج است یا فرد؟\",\r",
									"    \"عدد 9 زوج است یا فرد؟\",\r",
									"    \"عدد 10 زوج است یا فرد؟\",\r",
									"    \"عدد 11 زوج است یا فرد؟\",\r",
									"    \"عدد 12 زوج است یا فرد؟\",\r",
									"    \"عدد 13 زوج است یا فرد؟\",\r",
									"    \"عدد 14 زوج است یا فرد؟\",\r",
									"    \"عدد 15 زوج است یا فرد؟\"\r",
									"];\r",
									"// تابع انتخاب تصادفی\r",
									"const getRandomItem = (array) => array[Math.floor(Math.random() * array.length)];\r",
									"\r",
									"// انتخاب یک سوال تصادفی\r",
									"const randomQuestion = getRandomItem(questions);\r",
									"\r",
									"// ذخیره در متغیر محیطی\r",
									"pm.environment.set(\"student_question\", randomQuestion);\r",
									"\r",
									"// نمایش در کنسول\r",
									"console.log(\"سوال انتخاب‌شده:\", randomQuestion);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-403a8a3b-0457-4e45-a445-341566445f4e",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "subject",
									"value": "{{random_slug}}",
									"type": "text"
								},
								{
									"key": "language",
									"value": "fa",
									"type": "text"
								},
								{
									"key": "input",
									"value": "{{student_question}}",
									"type": "text"
								},
								{
									"key": "media_ids",
									"value": "{{media_id}}",
									"type": "text",
									"uuid": "8af97924-2eda-44b8-ad66-cd8db1c56e35"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/andi/ask/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"andi",
								"ask",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/andi/ask/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjI4NjU2LCJpYXQiOjE3NTg2MjUwNTYsImp0aSI6IjZkOWZiYzQ5NjllYzQ4MTRiYWQ0NWNmNzEyNTc4MDdkIiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjN9.r9-C4JfGt3SDTwQULM6ePNpGxG7hXFGgZivNKdbwpj8' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundaryR00mtljdoHkqXogW' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundaryR00mtljdoHkqXogW\\r\\nContent-Disposition: form-data; name=\"subject\"\\r\\n\\r\\nmath_01\\r\\n------WebKitFormBoundaryR00mtljdoHkqXogW\\r\\nContent-Disposition: form-data; name=\"language\"\\r\\n\\r\\nfa\\r\\n------WebKitFormBoundaryR00mtljdoHkqXogW\\r\\nContent-Disposition: form-data; name=\"input\"\\r\\n\\r\\n2+2 \\r\\nچند میشه\\r\\n------WebKitFormBoundaryR00mtljdoHkqXogW--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "Get answer Andi",
					"id": "49382794-fc02a7da-7a5b-4742-957d-95dafdaaba3b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/sessions/{{Session_id}}/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"sessions",
								"{{Session_id}}",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/sessions/6dcdca2c-18a1-4f74-956f-0a62df74cc83/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4NjM3MzQ5LCJpYXQiOjE3NTg2MzM3NDksImp0aSI6ImU3NTU4NjQ4MzA4MzRhZWQ5ZTNmZDU5ODVlMzJiZjdmIiwidXNlcl9pZCI6ImY5NDljNjNjLTY1ODgtNDdlNi05NTQ4LTlmZDk3NWY1MWQ2NiIsInRva2VuX3ZlcnNpb24iOjN9.Sz38MShiMzNY5Kv9JPy_jfLMOnnjnOTwVB1CK9NrBYM' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				}
			],
			"id": "49382794-2e371498-175b-4796-a7e1-c9773f3a6d99",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ca2c7ae1-13c1-4485-a759-da01340e1390",
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "55845f35-8cf9-4add-bccf-d34dad01e49b",
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							"pm.test(\"Status code is 200 or 202\", function () {\r",
							"    pm.expect(pm.response.code === 200 || pm.response.code === 202).to.be.true;\r",
							"});\r",
							"       \r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});"
						]
					}
				}
			]
		},
		{
			"name": "Edit profile- First & Last names",
			"item": [
				{
					"name": "Get user id",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bd260aab-635e-4eb8-a9de-ca5eec2fcffb",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره user_id در Environment\r",
									"pm.environment.set(\"userId\", jsonData.user_id);\r",
									"\r",
									"console.log(\"user_id saved:\", jsonData.user_id);\r",
									"\r",
									"// تست برای اطمینان\r",
									"pm.test(\"user_id موجود است\", function () {\r",
									"    pm.expect(jsonData.user_id).to.not.be.undefined;\r",
									"    pm.expect(jsonData.user_id).to.not.be.null;\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-00666070-b7aa-4dd0-b400-37ade7c8aca9",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/users/me/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								"me",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/users/me/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3ODQxMTc5LCJpYXQiOjE3NTc4Mzc1NzksImp0aSI6ImZmZGVjYmEzMGNjNTQwMjM4NmE5ZGY4ODM5OTI2NGZmIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.XzYVwuIJvEcmgMjAgyGmK4pkj-eBXZLAnubt69bfKNs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				},
				{
					"name": "Edit user First & Last names",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "bf4d3703-550b-409b-9f56-e627a14e76af",
								"exec": [
									"// لیست اسم‌های ایرانی\r",
									"const firstNames = [\r",
									"    \"محمد\", \"علی\", \"حسین\", \"رضا\", \"مهدی\", \"فاطمه\", \"زهرا\", \"نرگس\", \"سارا\", \"مریم\",\r",
									"    \"امیر\", \"نوید\", \"میلاد\", \"حامد\", \"مجید\", \"احمد\", \"نگار\", \"الهام\", \"سمیرا\", \"شقایق\",\r",
									"    \"نیلوفر\", \"سحر\", \"پریسا\", \"سینا\", \"بهزاد\", \"بهاره\", \"آرزو\", \"پدرام\", \"شایان\", \"یگانه\"\r",
									"];\r",
									"\r",
									"// لیست فامیل‌های ایرانی\r",
									"const lastNames = [\r",
									"    \"کریمی\", \"احمدی\", \"رضایی\", \"محمدی\", \"مرادی\", \"حسینی\", \"قاسمی\", \"موسوی\", \"جعفری\", \"عباسی\",\r",
									"    \"نعمتی\", \"رحمانی\", \"جعفری‌نژاد\", \"ایزدی\", \"فلاح\", \"عابدی\", \"نادری\", \"رستمی\", \"پناهی\", \"افشار\",\r",
									"    \"نوروزی\", \"کاظمی\", \"رجبی\", \"داوودی\", \"حیدری\", \"شریفی\", \"صفری\", \"نوری\", \"هاشمی\", \"یوسفی\"\r",
									"];\r",
									"\r",
									"// تابع انتخاب تصادفی\r",
									"const getRandomItem = (array) => array[Math.floor(Math.random() * array.length)];\r",
									"\r",
									"// انتخاب تصادفی اسم و فامیل\r",
									"const randomFirstName = getRandomItem(firstNames);\r",
									"const randomLastName = getRandomItem(lastNames);\r",
									"\r",
									"// ذخیره در متغیرهای کالکشن Postman\r",
									"pm.environment.set(\"randomFirstName\", randomFirstName);\r",
									"pm.environment.set(\"randomLastName\", randomLastName);\r",
									"\r",
									"// نمایش در کنسول برای بررسی\r",
									"console.log(\"نام:\", randomFirstName);\r",
									"console.log(\"نام خانوادگی:\", randomLastName);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-e3eff686-db03-49e0-b94f-01b1e83babad",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "X-CSRFToken",
								"value": "e8b412a9aa350d1c6ccd402887cc443668f2a027"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"user_id\": \"{{userId}}\",\r\n    \"grade_id\": \"{{gradeId}}\",\r\n    \"level_id\": \"{{levelId}}\",\r\n    \"city_id\": {{city_id}},\r\n    \"province_id\": {{province_id}},\r\n    \"first_name\": \"{{randomFirstName}}\",\r\n    \"last_name\": \"{{randomLastName}}\",\r\n    \"fieldOfStudy\" :\"{{fieldOfStudy}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/users/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'PUT' \\\r\n  'https://andarzapi.darkube.app/api/users/05405f29-9a44-4b5b-b1c0-48c05cec5f9a/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'X-CSRFToken: e8b412a9aa350d1c6ccd402887cc443668f2a027' \\\r\n  -H 'Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU5MDAyLCJpYXQiOjE3NTc3NTU0MDIsImp0aSI6IjRhNWZhNWY5OWE2MjQ5ZjE4NGM0NWU5MzAwZjkyOTU3IiwidXNlcl9pZCI6IjUxMDg3MDc5LTAyN2QtNGI2Ni05NzIwLTNjZWJmZTUyNTg1ZSJ9._uo6pwgIiSbpPe_iGHgSu9tBBfmKO1rQFm4I3lTB8SU' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv' \\\r\n  -d '{\r\n  \"phone_number\": \"string\",\r\n  \"first_name\": \"string\",\r\n  \"last_name\": \"string\",\r\n  \"grade_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"level_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"field_of_study_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"province\": \"string\",\r\n  \"city\": \"string\",\r\n  \"province_id\": 0,\r\n  \"city_id\": 0\r\n}'"
					},
					"response": []
				}
			],
			"id": "49382794-4cbbabc4-2b91-4b2f-b184-0be0a7d8998a"
		},
		{
			"name": "Edit profile-Level s And grade",
			"item": [
				{
					"name": "Get user id",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bd260aab-635e-4eb8-a9de-ca5eec2fcffb",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره user_id در Environment\r",
									"pm.environment.set(\"userId\", jsonData.user_id);\r",
									"\r",
									"console.log(\"user_id saved:\", jsonData.user_id);\r",
									"\r",
									"// تست برای اطمینان\r",
									"pm.test(\"user_id موجود است\", function () {\r",
									"    pm.expect(jsonData.user_id).to.not.be.undefined;\r",
									"    pm.expect(jsonData.user_id).to.not.be.null;\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-2a4d42b4-f3c6-43b0-816b-8071389fd185",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/users/me/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								"me",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/users/me/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3ODQxMTc5LCJpYXQiOjE3NTc4Mzc1NzksImp0aSI6ImZmZGVjYmEzMGNjNTQwMjM4NmE5ZGY4ODM5OTI2NGZmIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.XzYVwuIJvEcmgMjAgyGmK4pkj-eBXZLAnubt69bfKNs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				},
				{
					"name": "Get grades",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cfd99708-e188-491a-ae5e-786a87a5c25d",
								"exec": [
									"// داده‌های JSON از پاسخ API\r",
									"const data = pm.response.json();\r",
									"\r",
									"// بررسی صحت داده‌ها\r",
									"if (data && Array.isArray(data)) {\r",
									"    // فیلتر فقط پایه‌های 1 تا 9 (ابتدایی و متوسطه اول)\r",
									"    const filteredData = data.filter(item => \r",
									"        item.slug === \"primary\" || item.slug === \"midlevel\"\r",
									"    );\r",
									"\r",
									"    // تابع برای انتخاب تصادفی از آرایه\r",
									"    const getRandomItem = (array) => array[Math.floor(Math.random() * array.length)];\r",
									"\r",
									"    // انتخاب تصادفی یک grade از بین ابتدایی و متوسطه اول\r",
									"    const randomGrade = getRandomItem(filteredData);\r",
									"    const gradeId = randomGrade.id;\r",
									"\r",
									"    // انتخاب تصادفی یک level از grade انتخاب‌شده\r",
									"    const randomLevel = getRandomItem(randomGrade.levels);\r",
									"    const levelId = randomLevel.id;\r",
									"\r",
									"    // بررسی وجود field_of_studies و انتخاب تصادفی یا null\r",
									"    const fieldOfStudy = randomLevel.field_of_studies && randomLevel.field_of_studies.length > 0\r",
									"        ? getRandomItem(randomLevel.field_of_studies).id\r",
									"        : null;\r",
									"\r",
									"    // ذخیره در متغیرهای Postman\r",
									"    pm.collectionVariables.set(\"gradeId\", gradeId);\r",
									"    pm.collectionVariables.set(\"levelId\", levelId);\r",
									"    pm.collectionVariables.set(\"fieldOfStudyId\", fieldOfStudy);\r",
									"\r",
									"    // چاپ برای بررسی (اختیاری)\r",
									"    console.log(\"Grade ID:\", gradeId);\r",
									"    console.log(\"Level ID:\", levelId);\r",
									"    console.log(\"Field of Study ID:\", fieldOfStudy);\r",
									"    console.log(\"انتخاب از:\", randomGrade.name, \"-\", randomLevel.name);\r",
									"} else {\r",
									"    console.log(\"داده‌های ورودی نامعتبر است\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-476156b2-ca77-44b2-9ffb-ed3b0c557ac7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/grades/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"grades",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/grades/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4MzcxNzU2LCJpYXQiOjE3NTgzNjgxNTYsImp0aSI6ImY3NjI2ZTIwZWQwNTQ3ODJiZjc2ZmE5OGM0ODIyNjM5IiwidXNlcl9pZCI6ImM5YWI3ZTVmLWY2M2MtNDI1MS1iMmUyLTM1NzYwNzU2YmIzMSJ9.7p5dA3M7-MMRfmieWV-mR9_5NRvw_DBOqkWboeOLEa0' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Put user Level & Grades",
					"id": "49382794-7cbae288-70c8-48cb-a389-1aaf300f7cda",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "X-CSRFToken",
								"value": "e8b412a9aa350d1c6ccd402887cc443668f2a027"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"phone_number\": \"09122981765\",\r\n  \"first_name\": \"{{randomFirstName}}\",\r\n  \"last_name\": \"{{randomLastName}}\",\r\n  \"grade_id\": \"{{gradeId}}\",\r\n  \"level_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"province_id\": 1,\r\n  \"city_id\": 1\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/users/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'PUT' \\\r\n  'https://andarzapi.darkube.app/api/users/05405f29-9a44-4b5b-b1c0-48c05cec5f9a/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'X-CSRFToken: e8b412a9aa350d1c6ccd402887cc443668f2a027' \\\r\n  -H 'Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU5MDAyLCJpYXQiOjE3NTc3NTU0MDIsImp0aSI6IjRhNWZhNWY5OWE2MjQ5ZjE4NGM0NWU5MzAwZjkyOTU3IiwidXNlcl9pZCI6IjUxMDg3MDc5LTAyN2QtNGI2Ni05NzIwLTNjZWJmZTUyNTg1ZSJ9._uo6pwgIiSbpPe_iGHgSu9tBBfmKO1rQFm4I3lTB8SU' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv' \\\r\n  -d '{\r\n  \"phone_number\": \"string\",\r\n  \"first_name\": \"string\",\r\n  \"last_name\": \"string\",\r\n  \"grade_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"level_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"field_of_study_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"province\": \"string\",\r\n  \"city\": \"string\",\r\n  \"province_id\": 0,\r\n  \"city_id\": 0\r\n}'"
					},
					"response": []
				}
			],
			"id": "49382794-4d0a9e53-0fcc-489c-8e62-5992b138d6f0"
		},
		{
			"name": "Edit profile-Avatar",
			"item": [
				{
					"name": "Get user id",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bd260aab-635e-4eb8-a9de-ca5eec2fcffb",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره user_id در Environment\r",
									"pm.environment.set(\"userId\", jsonData.user_id);\r",
									"\r",
									"console.log(\"user_id saved:\", jsonData.user_id);\r",
									"\r",
									"// تست برای اطمینان\r",
									"pm.test(\"user_id موجود است\", function () {\r",
									"    pm.expect(jsonData.user_id).to.not.be.undefined;\r",
									"    pm.expect(jsonData.user_id).to.not.be.null;\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-2aa4bdb6-c595-4ce9-8046-2e11240a862c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/users/me/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								"me",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/users/me/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3ODQxMTc5LCJpYXQiOjE3NTc4Mzc1NzksImp0aSI6ImZmZGVjYmEzMGNjNTQwMjM4NmE5ZGY4ODM5OTI2NGZmIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.XzYVwuIJvEcmgMjAgyGmK4pkj-eBXZLAnubt69bfKNs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				},
				{
					"name": "upload avatar-user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1050c521-2f13-4dd8-93d6-bde721f0158b",
								"exec": [
									"// دریافت پاسخ JSON\r",
									"let response = pm.response.json();\r",
									"\r",
									"// بررسی وجود media و media_id\r",
									"if (response.media && response.media.media_id) {\r",
									"    let mediaId = response.media.media_id;\r",
									"\r",
									"    // ذخیره در متغیر محیطی\r",
									"    pm.environment.set(\"media_id\", mediaId);\r",
									"\r",
									"    // یا ذخیره در متغیر کالکشن\r",
									"    // pm.collectionVariables.set(\"media_id\", mediaId);\r",
									"\r",
									"    console.log(\"Media ID ذخیره شد:\", mediaId);\r",
									"} else {\r",
									"    console.log(\"Media ID پیدا نشد!\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b6b29209-6686-42f9-877b-92730a294984",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-fbe6ad65-2827-4495-afa1-c26274b8820a",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "media_type",
									"value": "image",
									"type": "text"
								},
								{
									"key": "description",
									"value": "d",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"string\"]",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1f0b18be-d871-49b0-a89d-4d30648584f9"
								},
								{
									"key": "is_avatar_image",
									"value": "true",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{UrlStage}}/api/media/upload/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"media",
								"upload",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/media/upload/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3Nzc0MjkzLCJpYXQiOjE3NTc3NzA2OTMsImp0aSI6ImE3NzFkZTZjZDc3YjQ3MTA5MzRkYzBkMzJjYWUyOGQ1IiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.ZGoE_5AR7UabSfdlZNkHKmJUR9i0NJXI8QtD0ZmPRXc' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary9IPOWW8TQex8D70g' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw $'------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"media_type\"\\r\\n\\r\\nimage\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"description\"\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"tags\"\\r\\n\\r\\n[\"string\"]\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"pic 1.jpg\"\\r\\nContent-Type: image/jpeg\\r\\n\\r\\n\\r\\n------WebKitFormBoundary9IPOWW8TQex8D70g--\\r\\n'"
					},
					"response": []
				},
				{
					"name": "set avatar",
					"id": "49382794-4efa0112-1397-4e3d-836d-824ab4346f49",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "idLM22DSZHoT5tHYUHJUPvdSisWLfUk9jiX9xAdAD5MZNHl8TeaWif0V4aFfB92M"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"media_id\": \"{{media_id}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/users/set_avatar/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								"set_avatar",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'POST' \\\r\n  'https://andarzapi-stage.darkube.app/api/users/set_avatar/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: idLM22DSZHoT5tHYUHJUPvdSisWLfUk9jiX9xAdAD5MZNHl8TeaWif0V4aFfB92M' \\\r\n  -d '{\r\n  \"media_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\"\r\n}'"
					},
					"response": []
				}
			],
			"id": "49382794-7f1e8db6-5264-4b4a-8002-28eda84478f2"
		},
		{
			"name": "Edit profile-Locations",
			"item": [
				{
					"name": "Get user id",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bd260aab-635e-4eb8-a9de-ca5eec2fcffb",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره user_id در Environment\r",
									"pm.environment.set(\"userId\", jsonData.user_id);\r",
									"\r",
									"console.log(\"user_id saved:\", jsonData.user_id);\r",
									"\r",
									"// تست برای اطمینان\r",
									"pm.test(\"user_id موجود است\", function () {\r",
									"    pm.expect(jsonData.user_id).to.not.be.undefined;\r",
									"    pm.expect(jsonData.user_id).to.not.be.null;\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-8605558a-d8be-4217-bcc8-707502fd2dab",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/users/me/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								"me",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/users/me/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3ODQxMTc5LCJpYXQiOjE3NTc4Mzc1NzksImp0aSI6ImZmZGVjYmEzMGNjNTQwMjM4NmE5ZGY4ODM5OTI2NGZmIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.XzYVwuIJvEcmgMjAgyGmK4pkj-eBXZLAnubt69bfKNs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				},
				{
					"name": "Get locations Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fcbbf16c-5e10-4a10-94f7-48ab8cf783bb",
								"exec": [
									"// دریافت پاسخ\r",
									"let response = pm.response.json();\r",
									"\r",
									"// انتخاب تصادفی یک استان\r",
									"let randomProvinceIndex = Math.floor(Math.random() * response.length);\r",
									"let selectedProvince = response[randomProvinceIndex];\r",
									"\r",
									"// ذخیره province_id و اطلاعات تکمیلی\r",
									"pm.environment.set(\"province_id\", selectedProvince.id);\r",
									"pm.environment.set(\"province_name\", selectedProvince.persian_name);\r",
									"pm.environment.set(\"province_slug\", selectedProvince.slug);\r",
									"\r",
									"// انتخاب تصادفی یک شهر از استان انتخاب‌شده\r",
									"let cities = selectedProvince.cities;\r",
									"let randomCityIndex = Math.floor(Math.random() * cities.length);\r",
									"let selectedCity = cities[randomCityIndex];\r",
									"\r",
									"// ذخیره city_id و اطلاعات تکمیلی\r",
									"pm.environment.set(\"city_id\", selectedCity.id);\r",
									"pm.environment.set(\"city_name\", selectedCity.persian_name);\r",
									"pm.environment.set(\"city_slug\", selectedCity.slug);\r",
									"\r",
									"// نمایش در Console برای بررسی\r",
									"console.log(\"🗺 استان انتخاب‌شده:\");\r",
									"console.log(\"ID:\", selectedProvince.id);\r",
									"console.log(\"نام:\", selectedProvince.persian_name);\r",
									"console.log(\"Slug:\", selectedProvince.slug);\r",
									"\r",
									"console.log(\"🏙 شهر انتخاب‌شده:\");\r",
									"console.log(\"ID:\", selectedCity.id);\r",
									"console.log(\"نام:\", selectedCity.persian_name);\r",
									"console.log(\"Slug:\", selectedCity.slug);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-ae36ae5f-4a1d-4171-aa69-ac03985bccc3",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/locations/all/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"locations",
								"all",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/locations/all/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4Mzc2ODgyLCJpYXQiOjE3NTgzNzMyODIsImp0aSI6ImIwMmUxMjU1NDM3ZjQzNzI5NWFkMWY4YjE5YmFiZGYxIiwidXNlcl9pZCI6IjliMTU3ZjhkLTM1YzItNDMwOS1hM2Y2LTAzNDkyMjVjMTcyMyJ9.ht-hNohsFgd2UXO5dVsL5jFbStjs0vh1mFXE32Rnb98' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Put user-Locations",
					"id": "49382794-d750ff42-deec-4b2e-86c6-5f88b25db012",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "X-CSRFToken",
								"value": "e8b412a9aa350d1c6ccd402887cc443668f2a027"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"phone_number\": \"09122981765\",\r\n  \"first_name\": \"{{randomFirstName}}\",\r\n  \"last_name\": \"{{randomLastName}}\",\r\n  \"grade_id\": \"{{gradeId}}\",\r\n  \"level_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"province_id\": 1,\r\n  \"city_id\": 1\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/users/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'PUT' \\\r\n  'https://andarzapi.darkube.app/api/users/05405f29-9a44-4b5b-b1c0-48c05cec5f9a/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'X-CSRFToken: e8b412a9aa350d1c6ccd402887cc443668f2a027' \\\r\n  -H 'Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU5MDAyLCJpYXQiOjE3NTc3NTU0MDIsImp0aSI6IjRhNWZhNWY5OWE2MjQ5ZjE4NGM0NWU5MzAwZjkyOTU3IiwidXNlcl9pZCI6IjUxMDg3MDc5LTAyN2QtNGI2Ni05NzIwLTNjZWJmZTUyNTg1ZSJ9._uo6pwgIiSbpPe_iGHgSu9tBBfmKO1rQFm4I3lTB8SU' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv' \\\r\n  -d '{\r\n  \"phone_number\": \"string\",\r\n  \"first_name\": \"string\",\r\n  \"last_name\": \"string\",\r\n  \"grade_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"level_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"field_of_study_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"province\": \"string\",\r\n  \"city\": \"string\",\r\n  \"province_id\": 0,\r\n  \"city_id\": 0\r\n}'"
					},
					"response": []
				},
				{
					"name": "Get user id Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bd260aab-635e-4eb8-a9de-ca5eec2fcffb",
								"exec": [
									"// گرفتن ریسپانس\r",
									"const jsonData = pm.response.json();\r",
									"\r",
									"// ذخیره user_id در Environment\r",
									"pm.environment.set(\"userId\", jsonData.user_id);\r",
									"\r",
									"console.log(\"user_id saved:\", jsonData.user_id);\r",
									"\r",
									"// تست برای اطمینان\r",
									"pm.test(\"user_id موجود است\", function () {\r",
									"    pm.expect(jsonData.user_id).to.not.be.undefined;\r",
									"    pm.expect(jsonData.user_id).to.not.be.null;\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-e7d930c3-951e-40e9-ae70-54959ef46c91",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-ch-ua",
								"value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
							},
							{
								"key": "sec-ch-ua-mobile",
								"value": "?0"
							},
							{
								"key": "sec-ch-ua-platform",
								"value": "\"Windows\""
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/users/me/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								"me",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/users/me/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3ODQxMTc5LCJpYXQiOjE3NTc4Mzc1NzksImp0aSI6ImZmZGVjYmEzMGNjNTQwMjM4NmE5ZGY4ODM5OTI2NGZmIiwidXNlcl9pZCI6IjA1NDA1ZjI5LTlhNDQtNGI1Yi1iMWMwLTQ4YzA1Y2VjNWY5YSJ9.XzYVwuIJvEcmgMjAgyGmK4pkj-eBXZLAnubt69bfKNs' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"' \\\r\n  -H 'sec-ch-ua-mobile: ?0' \\\r\n  -H 'sec-ch-ua-platform: \"Windows\"' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36'"
					},
					"response": []
				}
			],
			"id": "49382794-52e288e5-b364-487c-83f2-c6278e993ca3"
		},
		{
			"name": "Register And logout user",
			"item": [
				{
					"name": "Send otp number",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// تعداد رقم‌های بعد از 09\r",
									"const digits = 9;\r",
									"\r",
									"// تابع برای تولید رقم رندوم\r",
									"function getRandomDigit() {\r",
									"    return Math.floor(Math.random() * 10); // عدد 0 تا 9\r",
									"}\r",
									"\r",
									"// تولید شماره رندوم\r",
									"let phoneNumber = '09';\r",
									"for (let i = 0; i < digits; i++) {\r",
									"    phoneNumber += getRandomDigit();\r",
									"}\r",
									"\r",
									"// ذخیره در متغیر محیطی یا سراسری Postman\r",
									"pm.environment.set(\"iranPhoneNumber\", phoneNumber);\r",
									"\r",
									"console.log(\"Generated Iran Phone Number:\", phoneNumber);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "dc79cd65-8378-4e5f-86fc-e9700c2385ec"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "b884bdda-7181-4247-b0d9-386eeb6f7a09"
							}
						}
					],
					"id": "49382794-984e6232-d661-4ee3-a869-837686427c1e",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"phone_number\": \"{{iranPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/request/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"request",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/request/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				},
				{
					"name": "otp verify user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();\r",
									"\r",
									"// ذخیره تو متغیر محیطی یا سراسری\r",
									"\r",
									"pm.environment.set(\"access_token\", response.token);\r",
									"\r",
									"// ذخیره user_id\r",
									"if (response.user && response.user.user_id) {\r",
									"    pm.environment.set(\"userId\", response.user.user_id);\r",
									"}\r",
									"\r",
									"console.log(\"token:\", response.token);\r",
									"console.log(\"User ID:\", response.user.user_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "e5a1f3dd-ab87-445c-af76-6da06d3cf6ce"
							}
						}
					],
					"id": "49382794-b294fe38-c05e-4627-af6c-157c6e96c3b5",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-type",
								"value": "application/json"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"otp_code\": \"1234\",\r\n    \"phone_number\": \"{{iranPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/auth/otp/verify/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"otp",
								"verify",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/otp/verify/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1' \\\r\n  --data-raw '{\"otp_code\":\"1234\",\"phone_number\":\"09127988412\"}'"
					},
					"response": []
				},
				{
					"name": "Get grades",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cfd99708-e188-491a-ae5e-786a87a5c25d",
								"exec": [
									"// داده‌های JSON از پاسخ API\r",
									"const data = pm.response.json();\r",
									"\r",
									"// بررسی صحت داده‌ها\r",
									"if (data && Array.isArray(data)) {\r",
									"    // فیلتر فقط پایه‌های 1 تا 9 (ابتدایی و متوسطه اول)\r",
									"    const filteredData = data.filter(item => \r",
									"        item.slug === \"primary\" || item.slug === \"midlevel\"\r",
									"    );\r",
									"\r",
									"    // تابع برای انتخاب تصادفی از آرایه\r",
									"    const getRandomItem = (array) => array[Math.floor(Math.random() * array.length)];\r",
									"\r",
									"    // انتخاب تصادفی یک grade از بین ابتدایی و متوسطه اول\r",
									"    const randomGrade = getRandomItem(filteredData);\r",
									"    const gradeId = randomGrade.id;\r",
									"\r",
									"    // انتخاب تصادفی یک level از grade انتخاب‌شده\r",
									"    const randomLevel = getRandomItem(randomGrade.levels);\r",
									"    const levelId = randomLevel.id;\r",
									"\r",
									"    // بررسی وجود field_of_studies و انتخاب تصادفی یا null\r",
									"    const fieldOfStudy = randomLevel.field_of_studies && randomLevel.field_of_studies.length > 0\r",
									"        ? getRandomItem(randomLevel.field_of_studies).id\r",
									"        : null;\r",
									"\r",
									"    // ذخیره در متغیرهای Postman\r",
									"    pm.collectionVariables.set(\"gradeId\", gradeId);\r",
									"    pm.collectionVariables.set(\"levelId\", levelId);\r",
									"    pm.collectionVariables.set(\"fieldOfStudyId\", fieldOfStudy);\r",
									"\r",
									"    // چاپ برای بررسی (اختیاری)\r",
									"    console.log(\"Grade ID:\", gradeId);\r",
									"    console.log(\"Level ID:\", levelId);\r",
									"    console.log(\"Field of Study ID:\", fieldOfStudy);\r",
									"    console.log(\"انتخاب از:\", randomGrade.name, \"-\", randomLevel.name);\r",
									"} else {\r",
									"    console.log(\"داده‌های ورودی نامعتبر است\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-fb01b6fa-f0a8-41b6-9864-d85c6bfa2f19",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/grades/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"grades",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/grades/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4MzcxNzU2LCJpYXQiOjE3NTgzNjgxNTYsImp0aSI6ImY3NjI2ZTIwZWQwNTQ3ODJiZjc2ZmE5OGM0ODIyNjM5IiwidXNlcl9pZCI6ImM5YWI3ZTVmLWY2M2MtNDI1MS1iMmUyLTM1NzYwNzU2YmIzMSJ9.7p5dA3M7-MMRfmieWV-mR9_5NRvw_DBOqkWboeOLEa0' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Get locations",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();\r",
									"\r",
									"// انتخاب تصادفی یک استان\r",
									"let randomProvinceIndex = Math.floor(Math.random() * response.length);\r",
									"let selectedProvince = response[randomProvinceIndex];\r",
									"\r",
									"// ذخیره province_id\r",
									"pm.environment.set(\"province_id\", selectedProvince.id);\r",
									"\r",
									"// انتخاب تصادفی یک شهر از استان انتخاب شده\r",
									"let cities = selectedProvince.cities;\r",
									"let randomCityIndex = Math.floor(Math.random() * cities.length);\r",
									"let selectedCity = cities[randomCityIndex];\r",
									"\r",
									"// ذخیره city_id\r",
									"pm.environment.set(\"city_id\", selectedCity.id);\r",
									"\r",
									"console.log(\"province_id:\", selectedProvince.id);\r",
									"console.log(\"city_id:\", selectedCity.id);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"id": "fcbbf16c-5e10-4a10-94f7-48ab8cf783bb"
							}
						}
					],
					"id": "49382794-719bd9b2-fc27-4b92-854b-e15893c8be43",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "origin",
								"value": "https://stage-andarz-front.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://stage-andarz-front.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/locations/all/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"locations",
								"all",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi-stage.darkube.app/api/locations/all/' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4Mzc2ODgyLCJpYXQiOjE3NTgzNzMyODIsImp0aSI6ImIwMmUxMjU1NDM3ZjQzNzI5NWFkMWY4YjE5YmFiZGYxIiwidXNlcl9pZCI6IjliMTU3ZjhkLTM1YzItNDMwOS1hM2Y2LTAzNDkyMjVjMTcyMyJ9.ht-hNohsFgd2UXO5dVsL5jFbStjs0vh1mFXE32Rnb98' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'origin: https://stage-andarz-front.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://stage-andarz-front.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				},
				{
					"name": "Put user",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "72305705-ae96-4c9e-92dd-bda0a9947405",
								"exec": [
									"// لیست اسم‌های ایرانی\r",
									"const firstNames = [\r",
									"    \"محمد\", \"علی\", \"حسین\", \"رضا\", \"مهدی\", \"فاطمه\", \"زهرا\", \"نرگس\", \"سارا\", \"مریم\",\r",
									"    \"امیر\", \"نوید\", \"میلاد\", \"حامد\", \"مجید\", \"احمد\", \"نگار\", \"الهام\", \"سمیرا\", \"شقایق\",\r",
									"    \"نیلوفر\", \"سحر\", \"پریسا\", \"سینا\", \"بهزاد\", \"بهاره\", \"آرزو\", \"پدرام\", \"شایان\", \"یگانه\"\r",
									"];\r",
									"\r",
									"// لیست فامیل‌های ایرانی\r",
									"const lastNames = [\r",
									"    \"کریمی\", \"احمدی\", \"رضایی\", \"محمدی\", \"مرادی\", \"حسینی\", \"قاسمی\", \"موسوی\", \"جعفری\", \"عباسی\",\r",
									"    \"نعمتی\", \"رحمانی\", \"جعفری‌نژاد\", \"ایزدی\", \"فلاح\", \"عابدی\", \"نادری\", \"رستمی\", \"پناهی\", \"افشار\",\r",
									"    \"نوروزی\", \"کاظمی\", \"رجبی\", \"داوودی\", \"حیدری\", \"شریفی\", \"صفری\", \"نوری\", \"هاشمی\", \"یوسفی\"\r",
									"];\r",
									"\r",
									"// تابع انتخاب تصادفی\r",
									"const getRandomItem = (array) => array[Math.floor(Math.random() * array.length)];\r",
									"\r",
									"// انتخاب تصادفی اسم و فامیل\r",
									"const randomFirstName = getRandomItem(firstNames);\r",
									"const randomLastName = getRandomItem(lastNames);\r",
									"\r",
									"// ذخیره در متغیرهای کالکشن Postman\r",
									"pm.environment.set(\"randomFirstName\", randomFirstName);\r",
									"pm.environment.set(\"randomLastName\", randomLastName);\r",
									"\r",
									"// نمایش در کنسول برای بررسی\r",
									"console.log(\"نام:\", randomFirstName);\r",
									"console.log(\"نام خانوادگی:\", randomLastName);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "49382794-b185fdd8-243c-49c8-a634-ddcd52deeb8e",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "accept",
								"value": "application/json"
							},
							{
								"key": "X-CSRFToken",
								"value": "e8b412a9aa350d1c6ccd402887cc443668f2a027"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{tokenUser}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-CSRFTOKEN",
								"value": "ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"user_id\": \"{{userId}}\",\r\n    \"grade_id\": \"{{gradeId}}\",\r\n    \"level_id\": \"{{levelId}}\",\r\n    \"city_id\": {{city_id}},\r\n    \"province_id\": {{province_id}},\r\n    \"first_name\": \"{{randomFirstName}}\",\r\n    \"last_name\": \"{{randomLastName}}\",\r\n    \"fieldOfStudy\" :\"{{fieldOfStudy}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{UrlStage}}/api/users/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"users",
								""
							]
						},
						"description": "Generated from cURL: curl -X 'PUT' \\\r\n  'https://andarzapi.darkube.app/api/users/05405f29-9a44-4b5b-b1c0-48c05cec5f9a/' \\\r\n  -H 'accept: application/json' \\\r\n  -H 'X-CSRFToken: e8b412a9aa350d1c6ccd402887cc443668f2a027' \\\r\n  -H 'Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NzU5MDAyLCJpYXQiOjE3NTc3NTU0MDIsImp0aSI6IjRhNWZhNWY5OWE2MjQ5ZjE4NGM0NWU5MzAwZjkyOTU3IiwidXNlcl9pZCI6IjUxMDg3MDc5LTAyN2QtNGI2Ni05NzIwLTNjZWJmZTUyNTg1ZSJ9._uo6pwgIiSbpPe_iGHgSu9tBBfmKO1rQFm4I3lTB8SU' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'X-CSRFTOKEN: ixh4HFUA341fESVlMLRqkwxxW8leHsl8AkqC2cgZKke6xRBWx0D6vDkE3sBMyjiv' \\\r\n  -d '{\r\n  \"phone_number\": \"string\",\r\n  \"first_name\": \"string\",\r\n  \"last_name\": \"string\",\r\n  \"grade_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"level_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"field_of_study_id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\r\n  \"province\": \"string\",\r\n  \"city\": \"string\",\r\n  \"province_id\": 0,\r\n  \"city_id\": 0\r\n}'"
					},
					"response": []
				},
				{
					"name": "logout",
					"id": "49382794-904e9b3a-0788-4d48-95e8-08016db43dde",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "accept",
								"value": "application/json, text/plain, */*"
							},
							{
								"key": "accept-language",
								"value": "en-US,en;q=0.9"
							},
							{
								"key": "authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							},
							{
								"key": "content-length",
								"value": "0"
							},
							{
								"key": "origin",
								"value": "https://client.darkube.app"
							},
							{
								"key": "pragma",
								"value": "no-cache"
							},
							{
								"key": "priority",
								"value": "u=1, i"
							},
							{
								"key": "referer",
								"value": "https://client.darkube.app/"
							},
							{
								"key": "sec-fetch-dest",
								"value": "empty"
							},
							{
								"key": "sec-fetch-mode",
								"value": "cors"
							},
							{
								"key": "sec-fetch-site",
								"value": "same-site"
							},
							{
								"key": "user-agent",
								"value": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"
							}
						],
						"url": {
							"raw": "{{UrlStage}}/api/auth/logout/",
							"host": [
								"{{UrlStage}}"
							],
							"path": [
								"api",
								"auth",
								"logout",
								""
							]
						},
						"description": "Generated from cURL: curl 'https://andarzapi.darkube.app/api/auth/logout/' \\\r\n  -X 'POST' \\\r\n  -H 'accept: application/json, text/plain, */*' \\\r\n  -H 'accept-language: en-US,en;q=0.9' \\\r\n  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3MzQ0ODk4LCJpYXQiOjE3NTczNDEyOTgsImp0aSI6IjdiNWI3Y2QxMDkyMDQxZjc5NzA0OTBhZWVjZmM3NDQzIiwidXNlcl9pZCI6ImM1ZDRkMjdjLTgwMjMtNGM5Mi1hZDAyLWY3Nzk5M2M3MDkzMiJ9.7ZaFKxF1nns-XYEbxjnstqYL6O6wpWJiOT94BS71FYk' \\\r\n  -H 'cache-control: no-cache' \\\r\n  -H 'content-length: 0' \\\r\n  -H 'origin: https://client.darkube.app' \\\r\n  -H 'pragma: no-cache' \\\r\n  -H 'priority: u=1, i' \\\r\n  -H 'referer: https://client.darkube.app/' \\\r\n  -H 'sec-fetch-dest: empty' \\\r\n  -H 'sec-fetch-mode: cors' \\\r\n  -H 'sec-fetch-site: same-site' \\\r\n  -H 'user-agent: Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'"
					},
					"response": []
				}
			],
			"id": "49382794-1117984b-4118-42ab-9bcc-388818835c62",
			"description": "Feature: User Registration Flow  \nAs a guest user  \nI want to register with my personal information  \nSo that I can have a complete profile in the system\n\nBackground:  \nGiven the user is on the login page\n\nScenario: Successful user registration with OTP  \nWhen the user enters a valid phone number  \nAnd the system sends an OTP code to the user  \nAnd the user submits the correct OTP code  \nThen the user should be redirected to the registration form\n\n```\nWhen the user fills in the registration form with:\n  | First Name       | احمد       |\n  | Last Name        | سازگار     |\n  | Province         | تهران      |\n  | City             | تهران      |\n  | Education Level  | کارشناسی   |\n  | Major            | مهندسی نرم افزار |\n\n ```\n\nAnd the user submits the registration form  \nThen the user should see a success message \"ثبت نام با موفقیت انجام شد\"  \nWhen the user logs out from the system  \nThen the user should be redirected to the homepage",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						],
						"id": "1ed90e50-508c-4ab2-852b-8dc5b7dbd61d"
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Response time is less than 200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
							"});\r",
							"setTimeout(() => {\r",
							"    console.log(\"Waited 200ms before sending request\");\r",
							"}, 200);\r",
							"console.log(\"➡️ Request Body:\", pm.request.body);\r",
							""
						],
						"id": "91cf1d1c-2b41-45ba-891e-81ed7def4555"
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "83ab2d54-0420-4803-9cab-d22a00a13a26",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "616f5bfb-9112-474a-b94f-57acfe59fc38",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "Url",
			"value": ""
		},
		{
			"key": "Session_id",
			"value": ""
		},
		{
			"key": "gradeId",
			"value": ""
		},
		{
			"key": "levelid",
			"value": ""
		},
		{
			"key": "levelId",
			"value": ""
		},
		{
			"key": "fieldOfStudyId",
			"value": ""
		},
		{
			"key": "randomFirstName",
			"value": ""
		},
		{
			"key": "randomLastName",
			"value": ""
		},
		{
			"key": "image_path",
			"value": ""
		}
	]
}